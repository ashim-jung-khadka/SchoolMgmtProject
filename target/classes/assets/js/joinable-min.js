(function(e,n,r){(function(e){e.fn.hoverIntent=function(t,n,r){var i={interval:100,sensitivity:7,timeout:0};if(typeof t==="object"){i=e.extend(i,t)}else if(e.isFunction(n)){i=e.extend(i,{over:t,out:n,selector:r})}else{i=e.extend(i,{over:t,out:t,selector:n})}var s,o,u,a;var f=function(e){s=e.pageX;o=e.pageY};var l=function(t,n){n.hoverIntent_t=clearTimeout(n.hoverIntent_t);if(Math.abs(u-s)+Math.abs(a-o)<i.sensitivity){e(n).off("mousemove.hoverIntent",f);n.hoverIntent_s=1;return i.over.apply(n,[t])}else{u=s;a=o;n.hoverIntent_t=setTimeout(function(){l(t,n)},i.interval)}};var c=function(e,t){t.hoverIntent_t=clearTimeout(t.hoverIntent_t);t.hoverIntent_s=0;return i.out.apply(t,[e])};var h=function(t){var n=jQuery.extend({},t);var r=this;if(r.hoverIntent_t){r.hoverIntent_t=clearTimeout(r.hoverIntent_t)}if(t.type=="mouseenter"){u=n.pageX;a=n.pageY;e(r).on("mousemove.hoverIntent",f);if(r.hoverIntent_s!=1){r.hoverIntent_t=setTimeout(function(){l(n,r)},i.interval)}}else{e(r).off("mousemove.hoverIntent",f);if(r.hoverIntent_s==1){r.hoverIntent_t=setTimeout(function(){c(n,r)},i.timeout)}}};return this.on({"mouseenter.hoverIntent":h,"mouseleave.hoverIntent":h},i.selector)}})(jQuery);(function(e,t){var n="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";e.fn.imagesLoaded=function(r){function i(){var t=e(p),n=e(d);a&&(d.length?a.reject(l,t,n):a.resolve(l));e.isFunction(r)&&r.call(u,l,t,n)}function s(e){o(e.target,"error"===e.type)}function o(t,r){t.src===n||-1!==e.inArray(t,h)||(h.push(t),r?d.push(t):p.push(t),e.data(t,"imagesLoaded",{isBroken:r,src:t.src}),f&&a.notifyWith(e(t),[r,l,e(p),e(d)]),l.length===h.length&&(setTimeout(i),l.unbind(".imagesLoaded",s)))}var u=this,a=e.isFunction(e.Deferred)?e.Deferred():0,f=e.isFunction(a.notify),l=u.find("img").add(u.filter("img")),h=[],p=[],d=[];e.isPlainObject(r)&&e.each(r,function(e,t){if("callback"===e)r=t;else if(a)a[e](t)});l.length?l.bind("load.imagesLoaded error.imagesLoaded",s).each(function(r,i){var s=i.src,u=e.data(i,"imagesLoaded");if(u&&u.src===s)o(i,u.isBroken);else if(i.complete&&i.naturalWidth!==t)o(i,0===i.naturalWidth||0===i.naturalHeight);else if(i.readyState||i.complete)i.src=n,i.src=s}):i();return a?a.promise(u):u}})(jQuery);(function(){"use strict";function e(e){function l(o,l){var h,d;var y=o==n;var b=l&&l.message!==r?l.message:r;l=e.extend({},e.blockUI.defaults,l||{});if(l.ignoreIfBlocked&&e(o).data("blockUI.isBlocked"))return;l.overlayCSS=e.extend({},e.blockUI.defaults.overlayCSS,l.overlayCSS||{});h=e.extend({},e.blockUI.defaults.css,l.css||{});if(l.onOverlayClick)l.overlayCSS.cursor="pointer";d=e.extend({},e.blockUI.defaults.themedCSS,l.themedCSS||{});b=b===r?l.message:b;if(y&&a)c(n,{fadeOut:0});if(b&&typeof b!="string"&&(b.parentNode||b.jquery)){var w=b.jquery?b[0]:b;var E={};e(o).data("blockUI.history",E);E.el=w;E.parent=w.parentNode;E.display=w.style.display;E.position=w.style.position;if(E.parent)E.parent.removeChild(w)}e(o).data("blockUI.onUnblock",l.onUnblock);var S=l.baseZ;var x,T,N,C;if(i||l.forceIframe)x=e('<iframe class="blockUI" style="z-index:'+S++ +';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0" src="'+l.iframeSrc+'"></iframe>');else x=e('<div class="blockUI" style="display:none"></div>');if(l.theme)T=e('<div class="blockUI blockOverlay ui-widget-overlay" style="z-index:'+S++ +';display:none"></div>');else T=e('<div class="blockUI blockOverlay" style="z-index:'+S++ +';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0"></div>');if(l.theme&&y){C='<div class="blockUI '+l.blockMsgClass+' blockPage ui-dialog ui-widget ui-corner-all" style="z-index:'+(S+10)+';display:none;position:fixed">';if(l.title){C+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(l.title||"&nbsp;")+"</div>"}C+='<div class="ui-widget-content ui-dialog-content"></div>';C+="</div>"}else if(l.theme){C='<div class="blockUI '+l.blockMsgClass+' blockElement ui-dialog ui-widget ui-corner-all" style="z-index:'+(S+10)+';display:none;position:absolute">';if(l.title){C+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(l.title||"&nbsp;")+"</div>"}C+='<div class="ui-widget-content ui-dialog-content"></div>';C+="</div>"}else if(y){C='<div class="blockUI '+l.blockMsgClass+' blockPage" style="z-index:'+(S+10)+';display:none;position:fixed"></div>'}else{C='<div class="blockUI '+l.blockMsgClass+' blockElement" style="z-index:'+(S+10)+';display:none;position:absolute"></div>'}N=e(C);if(b){if(l.theme){N.css(d);N.addClass("ui-widget-content")}else N.css(h)}if(!l.theme)T.css(l.overlayCSS);T.css("position",y?"fixed":"absolute");if(i||l.forceIframe)x.css("opacity",0);var k=[x,T,N],L=y?e("body"):e(o);e.each(k,function(){this.appendTo(L)});if(l.theme&&l.draggable&&e.fn.draggable){N.draggable({handle:".ui-dialog-titlebar",cancel:"li"})}var A=u&&(!e.support.boxModel||e("object,embed",y?null:o).length>0);if(s||A){if(y&&l.allowBodyStretch&&e.support.boxModel)e("html,body").css("height","100%");if((s||!e.support.boxModel)&&!y){var O=g(o,"borderTopWidth"),M=g(o,"borderLeftWidth");var _=O?"(0 - "+O+")":0;var D=M?"(0 - "+M+")":0}e.each(k,function(e,t){var n=t[0].style;n.position="absolute";if(e<2){if(y)n.setExpression("height","Math.max(document.body.scrollHeight, document.body.offsetHeight) - (jQuery.support.boxModel?0:"+l.quirksmodeOffsetHack+') + "px"');else n.setExpression("height",'this.parentNode.offsetHeight + "px"');if(y)n.setExpression("width",'jQuery.support.boxModel && document.documentElement.clientWidth || document.body.clientWidth + "px"');else n.setExpression("width",'this.parentNode.offsetWidth + "px"');if(D)n.setExpression("left",D);if(_)n.setExpression("top",_)}else if(l.centerY){if(y)n.setExpression("top",'(document.documentElement.clientHeight || document.body.clientHeight) / 2 - (this.offsetHeight / 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"');n.marginTop=0}else if(!l.centerY&&y){var r=l.css&&l.css.top?parseInt(l.css.top,10):0;var i="((document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "+r+') + "px"';n.setExpression("top",i)}})}if(b){if(l.theme)N.find(".ui-widget-content").append(b);else N.append(b);if(b.jquery||b.nodeType)e(b).show()}if((i||l.forceIframe)&&l.showOverlay)x.show();if(l.fadeIn){var P=l.onBlock?l.onBlock:t;var H=l.showOverlay&&!b?P:t;var B=b?P:t;if(l.showOverlay)T._fadeIn(l.fadeIn,H);if(b)N._fadeIn(l.fadeIn,B)}else{if(l.showOverlay)T.show();if(b)N.show();if(l.onBlock)l.onBlock()}p(1,o,l);if(y){a=N[0];f=e(l.focusableElements,a);if(l.focusInput)setTimeout(v,20)}else m(N[0],l.centerX,l.centerY);if(l.timeout){var j=setTimeout(function(){if(y)e.unblockUI(l);else e(o).unblock(l)},l.timeout);e(o).data("blockUI.timeout",j)}}function c(t,r){var i;var s=t==n;var o=e(t);var u=o.data("blockUI.history");var l=o.data("blockUI.timeout");if(l){clearTimeout(l);o.removeData("blockUI.timeout")}r=e.extend({},e.blockUI.defaults,r||{});p(0,t,r);if(r.onUnblock===null){r.onUnblock=o.data("blockUI.onUnblock");o.removeData("blockUI.onUnblock")}var c;if(s)c=e("body").children().filter(".blockUI").add("body > .blockUI");else c=o.find(">.blockUI");if(r.cursorReset){if(c.length>1)c[1].style.cursor=r.cursorReset;if(c.length>2)c[2].style.cursor=r.cursorReset}if(s)a=f=null;if(r.fadeOut){i=c.length;c.stop().fadeOut(r.fadeOut,function(){if(--i===0)h(c,u,r,t)})}else h(c,u,r,t)}function h(t,n,r,i){var s=e(i);if(s.data("blockUI.isBlocked"))return;t.each(function(e,t){if(this.parentNode)this.parentNode.removeChild(this)});if(n&&n.el){n.el.style.display=n.display;n.el.style.position=n.position;if(n.parent)n.parent.appendChild(n.el);s.removeData("blockUI.history")}if(s.data("blockUI.static")){s.css("position","static")}if(typeof r.onUnblock=="function")r.onUnblock(i,r);var o=e(document.body),u=o.width(),a=o[0].style.width;o.width(u-1).width(u);o[0].style.width=a}function p(t,r,i){var s=r==n,o=e(r);if(!t&&(s&&!a||!s&&!o.data("blockUI.isBlocked")))return;o.data("blockUI.isBlocked",t);if(!s||!i.bindEvents||t&&!i.showOverlay)return;var u="mousedown mouseup keydown keypress keyup touchstart touchend touchmove";if(t)e(document).bind(u,i,d);else e(document).unbind(u,d)}function d(t){if(t.type==="keydown"&&t.keyCode&&t.keyCode==9){if(a&&t.data.constrainTabKey){var n=f;var r=!t.shiftKey&&t.target===n[n.length-1];var i=t.shiftKey&&t.target===n[0];if(r||i){setTimeout(function(){v(i)},10);return false}}}var s=t.data;var o=e(t.target);if(o.hasClass("blockOverlay")&&s.onOverlayClick)s.onOverlayClick(t);if(o.parents("div."+s.blockMsgClass).length>0)return true;return o.parents().children().filter("div.blockUI").length===0}function v(e){if(!f)return;var t=f[e===true?f.length-1:0];if(t)t.focus()}function m(e,t,n){var r=e.parentNode,i=e.style;var s=(r.offsetWidth-e.offsetWidth)/2-g(r,"borderLeftWidth");var o=(r.offsetHeight-e.offsetHeight)/2-g(r,"borderTopWidth");if(t)i.left=s>0?s+"px":"0";if(n)i.top=o>0?o+"px":"0"}function g(t,n){return parseInt(e.css(t,n),10)||0}e.fn._fadeIn=e.fn.fadeIn;var t=e.noop||function(){};var i=/MSIE/.test(navigator.userAgent);var s=/MSIE 6.0/.test(navigator.userAgent)&&!/MSIE 8.0/.test(navigator.userAgent);var o=document.documentMode||0;var u=e.isFunction(document.createElement("div").style.setExpression);e.blockUI=function(e){l(n,e)};e.unblockUI=function(e){c(n,e)};e.growlUI=function(t,n,i,s){var o=e('<div class="growlUI"></div>');if(t)o.append("<h1>"+t+"</h1>");if(n)o.append("<h2>"+n+"</h2>");if(i===r)i=3e3;var u=function(t){t=t||{};e.blockUI({message:o,fadeIn:typeof t.fadeIn!=="undefined"?t.fadeIn:700,fadeOut:typeof t.fadeOut!=="undefined"?t.fadeOut:1e3,timeout:typeof t.timeout!=="undefined"?t.timeout:i,centerY:false,showOverlay:false,onUnblock:s,css:e.blockUI.defaults.growlCSS})};u();var a=o.css("opacity");o.mouseover(function(){u({fadeIn:0,timeout:3e4});var t=e(".blockMsg");t.stop();t.fadeTo(300,1)}).mouseout(function(){e(".blockMsg").fadeOut(1e3)})};e.fn.block=function(t){if(this[0]===n){e.blockUI(t);return this}var r=e.extend({},e.blockUI.defaults,t||{});this.each(function(){var t=e(this);if(r.ignoreIfBlocked&&t.data("blockUI.isBlocked"))return;t.unblock({fadeOut:0})});return this.each(function(){if(e.css(this,"position")=="static"){this.style.position="relative";e(this).data("blockUI.static",true)}this.style.zoom=1;l(this,t)})};e.fn.unblock=function(t){if(this[0]===n){e.unblockUI(t);return this}return this.each(function(){c(this,t)})};e.blockUI.version=2.66;e.blockUI.defaults={message:"<h1>Please wait...</h1>",title:null,draggable:true,theme:false,css:{padding:0,margin:0,width:"30%",top:"40%",left:"35%",textAlign:"center",color:"#000",border:"3px solid #aaa",backgroundColor:"#fff",cursor:"wait"},themedCSS:{width:"30%",top:"40%",left:"35%"},overlayCSS:{backgroundColor:"#000",opacity:.6,cursor:"wait"},cursorReset:"default",growlCSS:{width:"350px",top:"10px",left:"",right:"10px",border:"none",padding:"5px",opacity:.6,cursor:"default",color:"#fff",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px"},iframeSrc:/^https/i.test(n.location.href||"")?"javascript:false":"about:blank",forceIframe:false,baseZ:1e3,centerX:true,centerY:true,allowBodyStretch:true,bindEvents:true,constrainTabKey:true,fadeIn:200,fadeOut:400,timeout:0,showOverlay:true,focusInput:true,focusableElements:":input:enabled:visible",onBlock:null,onUnblock:null,onOverlayClick:null,quirksmodeOffsetHack:4,blockMsgClass:"blockMsg",ignoreIfBlocked:false};var a=null;var f=[]}if(typeof define==="function"&&define.amd&&define.amd.jQuery){define(["jquery"],e)}else{e(jQuery)}})();(function(e){var t,r={className:"autosizejs",append:"",callback:!1,resizeDelay:10},i='<textarea tabindex="-1" style="position:absolute; top:-999px; left:0; right:auto; bottom:auto; border:0; padding: 0; -moz-box-sizing:content-box; -webkit-box-sizing:content-box; box-sizing:content-box; word-wrap:break-word; height:0 !important; min-height:0 !important; overflow:hidden; transition:none; -webkit-transition:none; -moz-transition:none;"/>',s=["fontFamily","fontSize","fontWeight","fontStyle","letterSpacing","textTransform","wordSpacing","textIndent"],o=e(i).data("autosize",!0)[0];o.style.lineHeight="99px","99px"===e(o).css("lineHeight")&&s.push("lineHeight"),o.style.lineHeight="",e.fn.autosize=function(i){return this.length?(i=e.extend({},r,i||{}),o.parentNode!==document.body&&e(document.body).append(o),this.each(function(){function r(){var t,r;"getComputedStyle"in n?(t=n.getComputedStyle(p,null),r=p.getBoundingClientRect().width,e.each(["paddingLeft","paddingRight","borderLeftWidth","borderRightWidth"],function(e,n){r-=parseInt(t[n],10)}),o.style.width=r+"px"):o.style.width=Math.max(d.width(),0)+"px"}function u(){var u={};if(t=p,o.className=i.className,l=parseInt(d.css("maxHeight"),10),e.each(s,function(e,t){u[t]=d.css(t)}),e(o).css(u),r(),n.chrome){var a=p.style.width;p.style.width="0px",p.offsetWidth,p.style.width=a}}function a(){var e,n;t!==p?u():r(),o.value=p.value+i.append,o.style.overflowY=p.style.overflowY,n=parseInt(p.style.height,10),o.scrollTop=0,o.scrollTop=9e4,e=o.scrollTop,l&&e>l?(p.style.overflowY="scroll",e=l):(p.style.overflowY="hidden",c>e&&(e=c)),e+=v,n!==e&&(p.style.height=e+"px",m&&i.callback.call(p,p))}function f(){clearTimeout(h),h=setTimeout(function(){var e=d.width();e!==y&&(y=e,a())},parseInt(i.resizeDelay,10))}var l,c,h,p=this,d=e(p),v=0,m=e.isFunction(i.callback),g={height:p.style.height,overflow:p.style.overflow,overflowY:p.style.overflowY,wordWrap:p.style.wordWrap,resize:p.style.resize},y=d.width();d.data("autosize")||(d.data("autosize",!0),("border-box"===d.css("box-sizing")||"border-box"===d.css("-moz-box-sizing")||"border-box"===d.css("-webkit-box-sizing"))&&(v=d.outerHeight()-d.height()),c=Math.max(parseInt(d.css("minHeight"),10)-v||0,d.height()),d.css({overflow:"hidden",overflowY:"hidden",wordWrap:"break-word",resize:"none"===d.css("resize")||"vertical"===d.css("resize")?"none":"horizontal"}),"onpropertychange"in p?"oninput"in p?d.on("input.autosize keyup.autosize",a):d.on("propertychange.autosize",function(){"value"===event.propertyName&&a()}):d.on("input.autosize",a),i.resizeDelay!==!1&&e(n).on("resize.autosize",f),d.on("autosize.resize",a),d.on("autosize.resizeIncludeStyle",function(){t=null,a()}),d.on("autosize.destroy",function(){t=null,clearTimeout(h),e(n).off("resize",f),d.off("autosize").off(".autosize").css(g).removeData("autosize")}),a())})):this}})(n.jQuery||n.$);e(function(){e.fn.bootstrapFileInput=function(t){this.each(function(n,r){var i=e(r);if(typeof i.attr("data-bfi-disabled")!="undefined"){return}var s=t&&t.length?t:"Browse";if(typeof i.attr("title")!="undefined"){s=i.attr("title")}var o=e("<div>").append(i.eq(0).clone()).html();var u="";if(!!i.attr("class")){u=" "+i.attr("class")}i.replaceWith('<a class="file-input-wrapper btn'+u+'">'+s+o+"</a>")}).promise().done(function(){e(".file-input-wrapper").mousemove(function(t){var n,r,i,s,o,u,a,f;r=e(this);n=r.find("input");i=r.offset().left;s=r.offset().top;o=n.width();u=n.height();a=t.pageX;f=t.pageY;moveInputX=a-i-o+20;moveInputY=f-s-u/2;n.css({left:moveInputX,top:moveInputY})});e(".file-input-wrapper input[type=file]").change(function(){var t;t=e(this).val();e(this).parent().next(".file-input-name").remove();if(!!e(this).prop("files")&&e(this).prop("files").length>1){t=e(this)[0].files.length+" files"}else{t=t.substring(t.lastIndexOf("\\")+1,t.length)}e(this).parent().after('<span class="file-input-name">'+t+"</span>")})})};var t="<style>"+".file-input-wrapper { overflow: hidden; position: relative; cursor: pointer; z-index: 1; }"+".file-input-wrapper input[type=file], .file-input-wrapper input[type=file]:focus, .file-input-wrapper input[type=file]:hover { position: absolute; top: 0; left: 0; cursor: pointer; opacity: 0; filter: alpha(opacity=0); z-index: 99; outline: 0; }"+".file-input-name { margin-left: 8px; }"+"</style>";e("link[rel=stylesheet]").eq(0).before(t)});(function(e){if(typeof define!=="undefined"&&define.amd){define(["jquery"],e)}else if(typeof module!=="undefined"&&module.exports){var t=require("jquery");module.exports=e(t)}else{n.scrollMonitor=e(jQuery)}})(function(e){function y(){return n.innerHeight||document.documentElement.clientHeight}function w(){t.viewportTop=i.scrollTop();t.viewportBottom=t.viewportTop+t.viewportHeight;t.documentHeight=s.height();if(t.documentHeight!==m){b=o.length;while(b--){o[b].recalculateLocation()}m=t.documentHeight}}function E(){t.viewportHeight=y();w();N()}function x(){clearTimeout(S);S=setTimeout(E,100)}function N(){T=o.length;while(T--){o[T].update()}T=o.length;while(T--){o[T].triggerCallbacks()}}function C(n,i){function T(e){if(e.length===0){return}S=e.length;while(S--){x=e[S];x.callback.call(s,g);if(x.isOne){e.splice(S,1)}}}var s=this;this.watchItem=n;if(!i){this.offsets=v}else if(i===+i){this.offsets={top:i,bottom:i}}else{this.offsets=e.extend({},v,i)}this.callbacks={};for(var o=0,m=d.length;o<m;o++){s.callbacks[d[o]]=[]}this.locked=false;var y;var b;var w;var E;var S;var x;this.triggerCallbacks=function(){if(this.isInViewport&&!y){T(this.callbacks[a])}if(this.isFullyInViewport&&!b){T(this.callbacks[f])}if(this.isAboveViewport!==w&&this.isBelowViewport!==E){T(this.callbacks[u]);if(!b&&!this.isFullyInViewport){T(this.callbacks[f]);T(this.callbacks[c])}if(!y&&!this.isInViewport){T(this.callbacks[a]);T(this.callbacks[l])}}if(!this.isFullyInViewport&&b){T(this.callbacks[c])}if(!this.isInViewport&&y){T(this.callbacks[l])}if(this.isInViewport!==y){T(this.callbacks[u])}switch(true){case y!==this.isInViewport:case b!==this.isFullyInViewport:case w!==this.isAboveViewport:case E!==this.isBelowViewport:T(this.callbacks[p])}y=this.isInViewport;b=this.isFullyInViewport;w=this.isAboveViewport;E=this.isBelowViewport};this.recalculateLocation=function(){if(this.locked){return}var n=this.top;var i=this.bottom;if(this.watchItem.nodeName){var s=this.watchItem.style.display;if(s==="none"){this.watchItem.style.display=""}var o=e(this.watchItem).offset();this.top=o.top;this.bottom=o.top+this.watchItem.offsetHeight;if(s==="none"){this.watchItem.style.display=s}}else if(this.watchItem===+this.watchItem){if(this.watchItem>0){this.top=this.bottom=this.watchItem}else{this.top=this.bottom=t.documentHeight-this.watchItem}}else{this.top=this.watchItem.top;this.bottom=this.watchItem.bottom}this.top-=this.offsets.top;this.bottom+=this.offsets.bottom;this.height=this.bottom-this.top;if((n!==r||i!==r)&&(this.top!==n||this.bottom!==i)){T(this.callbacks[h])}};this.recalculateLocation();this.update();y=this.isInViewport;b=this.isFullyInViewport;w=this.isAboveViewport;E=this.isBelowViewport}function _(e){g=e;w();N()}var t={};var i=e(n);var s=e(document);var o=[];var u="visibilityChange";var a="enterViewport";var f="fullyEnterViewport";var l="exitViewport";var c="partiallyExitViewport";var h="locationChange";var p="stateChange";var d=[u,a,f,l,c,h,p];var v={top:0,bottom:0};t.viewportTop;t.viewportBottom;t.documentHeight;t.viewportHeight=y();var m;var g;var b;var S;var T;C.prototype={on:function(e,t,n){switch(true){case e===u&&!this.isInViewport&&this.isAboveViewport:case e===a&&this.isInViewport:case e===f&&this.isFullyInViewport:case e===l&&this.isAboveViewport&&!this.isInViewport:case e===c&&this.isAboveViewport:t();if(n){return}}if(this.callbacks[e]){this.callbacks[e].push({callback:t,isOne:n})}else{throw new Error("Tried to add a scroll monitor listener of type "+e+". Your options are: "+d.join(", "))}},off:function(e,t){if(this.callbacks[e]){for(var n=0,r;r=this.callbacks[e][n];n++){if(r.callback===t){this.callbacks[e].splice(n,1);break}}}else{throw new Error("Tried to remove a scroll monitor listener of type "+e+". Your options are: "+d.join(", "))}},one:function(e,t){this.on(e,t,true)},recalculateSize:function(){this.height=this.watchItem.offsetHeight+this.offsets.top+this.offsets.bottom;this.bottom=this.top+this.height},update:function(){this.isAboveViewport=this.top<t.viewportTop;this.isBelowViewport=this.bottom>t.viewportBottom;this.isInViewport=this.top<=t.viewportBottom&&this.bottom>=t.viewportTop;this.isFullyInViewport=this.top>=t.viewportTop&&this.bottom<=t.viewportBottom||this.isAboveViewport&&this.isBelowViewport},destroy:function(){var e=o.indexOf(this),t=this;o.splice(e,1);for(var n=0,r=d.length;n<r;n++){t.callbacks[d[n]].length=0}},lock:function(){this.locked=true},unlock:function(){this.locked=false}};var k=function(e){return function(t,n){this.on.call(this,e,t,n)}};for(var L=0,A=d.length;L<A;L++){var O=d[L];C.prototype[O]=k(O)}try{w()}catch(M){e(w)}i.on("scroll",_);i.on("resize",x);t.beget=t.create=function(t,n){if(typeof t==="string"){t=e(t)[0]}if(t instanceof e){t=t[0]}var r=new C(t,n);o.push(r);r.update();return r};t.update=function(){g=null;w();N()};t.recalculateLocations=function(){t.documentHeight=0;t.update()};return t});(function(e){"function"===typeof define&&define.amd?define(["jquery"],e):e(jQuery)})(function(e){var t=!1,r=!1,i=5e3,s=2e3,o=0,u=["ms","moz","webkit","o"],a=n.requestAnimationFrame||!1,f=n.cancelAnimationFrame||!1;if(!a)for(var l in u){var c=u[l];a||(a=n[c+"RequestAnimationFrame"]);f||(f=n[c+"CancelAnimationFrame"]||n[c+"CancelRequestAnimationFrame"])}var h=n.MutationObserver||n.WebKitMutationObserver||!1,p={zindex:"auto",cursoropacitymin:0,cursoropacitymax:1,cursorcolor:"#424242",cursorwidth:"5px",cursorborder:"1px solid #fff",cursorborderradius:"5px",scrollspeed:60,mousescrollstep:24,touchbehavior:!1,hwacceleration:!0,usetransition:!0,boxzoom:!1,dblclickzoom:!0,gesturezoom:!0,grabcursorenabled:!0,autohidemode:!0,background:"",iframeautoresize:!0,cursorminheight:32,preservenativescrolling:!0,railoffset:!1,bouncescroll:!0,spacebarenabled:!0,railpadding:{top:0,right:0,left:0,bottom:0},disableoutline:!0,horizrailenabled:!0,railalign:"right",railvalign:"bottom",enabletranslate3d:!0,enablemousewheel:!0,enablekeyboard:!0,smoothscroll:!0,sensitiverail:!0,enablemouselockapi:!0,cursorfixedheight:!1,directionlockdeadzone:6,hidecursordelay:400,nativeparentscrolling:!0,enablescrollonselection:!0,overflowx:!0,overflowy:!0,cursordragspeed:.3,rtlmode:"auto",cursordragontouch:!1,oneaxismousemode:"auto",scriptpath:function(){var e=document.getElementsByTagName("script"),e=e[e.length-1].src.split("?")[0];return 0<e.split("/").length?e.split("/").slice(0,-1).join("/")+"/":""}()},d=!1,v=function(){if(d)return d;var e=document.createElement("DIV"),t={haspointerlock:"pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document};t.isopera="opera"in n;t.isopera12=t.isopera&&"getUserMedia"in navigator;t.isoperamini="[object OperaMini]"===Object.prototype.toString.call(n.operamini);t.isie="all"in document&&"attachEvent"in e&&!t.isopera;t.isieold=t.isie&&!("msInterpolationMode"in e.style);t.isie7=t.isie&&!t.isieold&&(!("documentMode"in document)||7==document.documentMode);t.isie8=t.isie&&"documentMode"in document&&8==document.documentMode;t.isie9=t.isie&&"performance"in n&&9<=document.documentMode;t.isie10=t.isie&&"performance"in n&&10<=document.documentMode;t.isie9mobile=/iemobile.9/i.test(navigator.userAgent);t.isie9mobile&&(t.isie9=!1);t.isie7mobile=!t.isie9mobile&&t.isie7&&/iemobile/i.test(navigator.userAgent);t.ismozilla="MozAppearance"in e.style;t.iswebkit="WebkitAppearance"in e.style;t.ischrome="chrome"in n;t.ischrome22=t.ischrome&&t.haspointerlock;t.ischrome26=t.ischrome&&"transition"in e.style;t.cantouch="ontouchstart"in document.documentElement||"ontouchstart"in n;t.hasmstouch=n.navigator.msPointerEnabled||!1;t.ismac=/^mac$/i.test(navigator.platform);t.isios=t.cantouch&&/iphone|ipad|ipod/i.test(navigator.platform);t.isios4=t.isios&&!("seal"in Object);t.isandroid=/android/i.test(navigator.userAgent);t.trstyle=!1;t.hastransform=!1;t.hastranslate3d=!1;t.transitionstyle=!1;t.hastransition=!1;t.transitionend=!1;for(var r=["transform","msTransform","webkitTransform","MozTransform","OTransform"],i=0;i<r.length;i++)if("undefined"!=typeof e.style[r[i]]){t.trstyle=r[i];break}t.hastransform=!1!=t.trstyle;t.hastransform&&(e.style[t.trstyle]="translate3d(1px,2px,3px)",t.hastranslate3d=/translate3d/.test(e.style[t.trstyle]));t.transitionstyle=!1;t.prefixstyle="";t.transitionend=!1;for(var r="transition webkitTransition MozTransition OTransition OTransition msTransition KhtmlTransition".split(" "),s=" -webkit- -moz- -o- -o -ms- -khtml-".split(" "),o="transitionend webkitTransitionEnd transitionend otransitionend oTransitionEnd msTransitionEnd KhtmlTransitionEnd".split(" "),i=0;i<r.length;i++)if(r[i]in e.style){t.transitionstyle=r[i];t.prefixstyle=s[i];t.transitionend=o[i];break}t.ischrome26&&(t.prefixstyle=s[1]);t.hastransition=t.transitionstyle;e:{r=["-moz-grab","-webkit-grab","grab"];if(t.ischrome&&!t.ischrome22||t.isie)r=[];for(i=0;i<r.length;i++)if(s=r[i],e.style.cursor=s,e.style.cursor==s){r=s;break e}r="url(http://www.google.com/intl/en_ALL/mapfiles/openhand.cur),n-resize"}t.cursorgrabvalue=r;t.hasmousecapture="setCapture"in e;t.hasMutationObserver=!1!==h;return d=t},m=function(u,l){function c(){var e=b.win;if("zIndex"in e)return e.zIndex();for(;0<e.length&&9!=e[0].nodeType;){var t=e.css("zIndex");if(!isNaN(t)&&0!=t)return parseInt(t);e=e.parent()}return!1}function d(e,t,n){t=e.css(t);e=parseFloat(t);return isNaN(e)?(e=N[t]||0,n=3==e?n?b.win.outerHeight()-b.win.innerHeight():b.win.outerWidth()-b.win.innerWidth():1,b.isie8&&e&&(e+=1),n?e:0):e}function m(e,t,r,i){b._bind(e,t,function(i){i=i?i:n.event;var s={original:i,target:i.target||i.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==i.type?0:1,deltaX:0,deltaZ:0,preventDefault:function(){i.preventDefault?i.preventDefault():i.returnValue=!1;return!1},stopImmediatePropagation:function(){i.stopImmediatePropagation?i.stopImmediatePropagation():i.cancelBubble=!0}};"mousewheel"==t?(s.deltaY=-.025*i.wheelDelta,i.wheelDeltaX&&(s.deltaX=-.025*i.wheelDeltaX)):s.deltaY=i.detail;return r.call(e,s)},i)}function y(e,t,n){var r,i;0==e.deltaMode?(r=-Math.floor(e.deltaX*(b.opt.mousescrollstep/54)),i=-Math.floor(e.deltaY*(b.opt.mousescrollstep/54))):1==e.deltaMode&&(r=-Math.floor(e.deltaX*b.opt.mousescrollstep),i=-Math.floor(e.deltaY*b.opt.mousescrollstep));t&&b.opt.oneaxismousemode&&0==r&&i&&(r=i,i=0);r&&(b.scrollmom&&b.scrollmom.stop(),b.lastdeltax+=r,b.debounced("mousewheelx",function(){var e=b.lastdeltax;b.lastdeltax=0;b.rail.drag||b.doScrollLeftBy(e)},15));if(i){if(b.opt.nativeparentscrolling&&n&&!b.ispage&&!b.zoomactive)if(0>i){if(b.getScrollTop()>=b.page.maxh)return!0}else if(0>=b.getScrollTop())return!0;b.scrollmom&&b.scrollmom.stop();b.lastdeltay+=i;b.debounced("mousewheely",function(){var e=b.lastdeltay;b.lastdeltay=0;b.rail.drag||b.doScrollBy(e)},15)}e.stopImmediatePropagation();return e.preventDefault()}var b=this;this.version="3.5.4";this.name="nicescroll";this.me=l;this.opt={doc:e("body"),win:!1};e.extend(this.opt,p);this.opt.snapbackspeed=80;if(u)for(var w in b.opt)"undefined"!=typeof u[w]&&(b.opt[w]=u[w]);this.iddoc=(this.doc=b.opt.doc)&&this.doc[0]?this.doc[0].id||"":"";this.ispage=/^BODY|HTML/.test(b.opt.win?b.opt.win[0].nodeName:this.doc[0].nodeName);this.haswrapper=!1!==b.opt.win;this.win=b.opt.win||(this.ispage?e(n):this.doc);this.docscroll=this.ispage&&!this.haswrapper?e(n):this.win;this.body=e("body");this.iframe=this.isfixed=this.viewport=!1;this.isiframe="IFRAME"==this.doc[0].nodeName&&"IFRAME"==this.win[0].nodeName;this.istextarea="TEXTAREA"==this.win[0].nodeName;this.forcescreen=!1;this.canshowonmouseevent="scroll"!=b.opt.autohidemode;this.page=this.view=this.onzoomout=this.onzoomin=this.onscrollcancel=this.onscrollend=this.onscrollstart=this.onclick=this.ongesturezoom=this.onkeypress=this.onmousewheel=this.onmousemove=this.onmouseup=this.onmousedown=!1;this.scroll={x:0,y:0};this.scrollratio={x:0,y:0};this.cursorheight=20;this.scrollvaluemax=0;this.observerremover=this.observer=this.scrollmom=this.scrollrunning=this.isrtlmode=!1;do this.id="ascrail"+s++;while(document.getElementById(this.id));this.hasmousefocus=this.hasfocus=this.zoomactive=this.zoom=this.selectiondrag=this.cursorfreezed=this.cursor=this.rail=!1;this.visibility=!0;this.hidden=this.locked=!1;this.cursoractive=!0;this.wheelprevented=!1;this.overflowx=b.opt.overflowx;this.overflowy=b.opt.overflowy;this.nativescrollingarea=!1;this.checkarea=0;this.events=[];this.saved={};this.delaylist={};this.synclist={};this.lastdeltay=this.lastdeltax=0;this.detected=v();var E=e.extend({},this.detected);this.ishwscroll=(this.canhwscroll=E.hastransform&&b.opt.hwacceleration)&&b.haswrapper;this.istouchcapable=!1;E.cantouch&&E.ischrome&&!E.isios&&!E.isandroid&&(this.istouchcapable=!0,E.cantouch=!1);E.cantouch&&E.ismozilla&&!E.isios&&!E.isandroid&&(this.istouchcapable=!0,E.cantouch=!1);b.opt.enablemouselockapi||(E.hasmousecapture=!1,E.haspointerlock=!1);this.delayed=function(e,t,n,r){var i=b.delaylist[e],s=(new Date).getTime();if(!r&&i&&i.tt)return!1;i&&i.tt&&clearTimeout(i.tt);if(i&&i.last+n>s&&!i.tt)b.delaylist[e]={last:s+n,tt:setTimeout(function(){b&&(b.delaylist[e].tt=0,t.call())},n)};else if(!i||!i.tt)b.delaylist[e]={last:s,tt:0},setTimeout(function(){t.call()},0)};this.debounced=function(e,t,n){var r=b.delaylist[e];(new Date).getTime();b.delaylist[e]=t;r||setTimeout(function(){var t=b.delaylist[e];b.delaylist[e]=!1;t.call()},n)};var S=!1;this.synched=function(e,t){b.synclist[e]=t;(function(){S||(a(function(){S=!1;for(e in b.synclist){var t=b.synclist[e];t&&t.call(b);b.synclist[e]=!1}}),S=!0)})();return e};this.unsynched=function(e){b.synclist[e]&&(b.synclist[e]=!1)};this.css=function(e,t){for(var n in t)b.saved.css.push([e,n,e.css(n)]),e.css(n,t[n])};this.scrollTop=function(e){return"undefined"==typeof e?b.getScrollTop():b.setScrollTop(e)};this.scrollLeft=function(e){return"undefined"==typeof e?b.getScrollLeft():b.setScrollLeft(e)};BezierClass=function(e,t,n,r,i,s,o){this.st=e;this.ed=t;this.spd=n;this.p1=r||0;this.p2=i||1;this.p3=s||0;this.p4=o||1;this.ts=(new Date).getTime();this.df=this.ed-this.st};BezierClass.prototype={B2:function(e){return 3*e*e*(1-e)},B3:function(e){return 3*e*(1-e)*(1-e)},B4:function(e){return(1-e)*(1-e)*(1-e)},getNow:function(){var e=1-((new Date).getTime()-this.ts)/this.spd,t=this.B2(e)+this.B3(e)+this.B4(e);return 0>e?this.ed:this.st+Math.round(this.df*t)},update:function(e,t){this.st=this.getNow();this.ed=e;this.spd=t;this.ts=(new Date).getTime();this.df=this.ed-this.st;return this}};if(this.ishwscroll){this.doc.translate={x:0,y:0,tx:"0px",ty:"0px"};E.hastranslate3d&&E.isios&&this.doc.css("-webkit-backface-visibility","hidden");var T=function(){var e=b.doc.css(E.trstyle);return e&&"matrix"==e.substr(0,6)?e.replace(/^.*\((.*)\)$/g,"$1").replace(/px/g,"").split(/, +/):!1};this.getScrollTop=function(e){if(!e){if(e=T())return 16==e.length?-e[13]:-e[5];if(b.timerscroll&&b.timerscroll.bz)return b.timerscroll.bz.getNow()}return b.doc.translate.y};this.getScrollLeft=function(e){if(!e){if(e=T())return 16==e.length?-e[12]:-e[4];if(b.timerscroll&&b.timerscroll.bh)return b.timerscroll.bh.getNow()}return b.doc.translate.x};this.notifyScrollEvent=document.createEvent?function(e){var t=document.createEvent("UIEvents");t.initUIEvent("scroll",!1,!0,n,1);e.dispatchEvent(t)}:document.fireEvent?function(e){var t=document.createEventObject();e.fireEvent("onscroll");t.cancelBubble=!0}:function(e,t){};E.hastranslate3d&&b.opt.enabletranslate3d?(this.setScrollTop=function(e,t){b.doc.translate.y=e;b.doc.translate.ty=-1*e+"px";b.doc.css(E.trstyle,"translate3d("+b.doc.translate.tx+","+b.doc.translate.ty+",0px)");t||b.notifyScrollEvent(b.win[0])},this.setScrollLeft=function(e,t){b.doc.translate.x=e;b.doc.translate.tx=-1*e+"px";b.doc.css(E.trstyle,"translate3d("+b.doc.translate.tx+","+b.doc.translate.ty+",0px)");t||b.notifyScrollEvent(b.win[0])}):(this.setScrollTop=function(e,t){b.doc.translate.y=e;b.doc.translate.ty=-1*e+"px";b.doc.css(E.trstyle,"translate("+b.doc.translate.tx+","+b.doc.translate.ty+")");t||b.notifyScrollEvent(b.win[0])},this.setScrollLeft=function(e,t){b.doc.translate.x=e;b.doc.translate.tx=-1*e+"px";b.doc.css(E.trstyle,"translate("+b.doc.translate.tx+","+b.doc.translate.ty+")");t||b.notifyScrollEvent(b.win[0])})}else this.getScrollTop=function(){return b.docscroll.scrollTop()},this.setScrollTop=function(e){return b.docscroll.scrollTop(e)},this.getScrollLeft=function(){return b.docscroll.scrollLeft()},this.setScrollLeft=function(e){return b.docscroll.scrollLeft(e)};this.getTarget=function(e){return!e?!1:e.target?e.target:e.srcElement?e.srcElement:!1};this.hasParent=function(e,t){if(!e)return!1;for(var n=e.target||e.srcElement||e||!1;n&&n.id!=t;)n=n.parentNode||!1;return!1!==n};var N={thin:1,medium:3,thick:5};this.getOffset=function(){if(b.isfixed)return{top:parseFloat(b.win.css("top")),left:parseFloat(b.win.css("left"))};if(!b.viewport)return b.win.offset();var e=b.win.offset(),t=b.viewport.offset();return{top:e.top-t.top+b.viewport.scrollTop(),left:e.left-t.left+b.viewport.scrollLeft()}};this.updateScrollBar=function(e){if(b.ishwscroll)b.rail.css({height:b.win.innerHeight()}),b.railh&&b.railh.css({width:b.win.innerWidth()});else{var t=b.getOffset(),n=t.top,r=t.left,n=n+d(b.win,"border-top-width",!0);b.win.outerWidth();b.win.innerWidth();var r=r+(b.rail.align?b.win.outerWidth()-d(b.win,"border-right-width")-b.rail.width:d(b.win,"border-left-width")),i=b.opt.railoffset;i&&(i.top&&(n+=i.top),b.rail.align&&i.left&&(r+=i.left));b.locked||b.rail.css({top:n,left:r,height:e?e.h:b.win.innerHeight()});b.zoom&&b.zoom.css({top:n+1,left:1==b.rail.align?r-20:r+b.rail.width+4});b.railh&&!b.locked&&(n=t.top,r=t.left,e=b.railh.align?n+d(b.win,"border-top-width",!0)+b.win.innerHeight()-b.railh.height:n+d(b.win,"border-top-width",!0),r+=d(b.win,"border-left-width"),b.railh.css({top:e,left:r,width:b.railh.width}))}};this.doRailClick=function(e,t,n){var r;b.locked||(b.cancelEvent(e),t?(t=n?b.doScrollLeft:b.doScrollTop,r=n?(e.pageX-b.railh.offset().left-b.cursorwidth/2)*b.scrollratio.x:(e.pageY-b.rail.offset().top-b.cursorheight/2)*b.scrollratio.y,t(r)):(t=n?b.doScrollLeftBy:b.doScrollBy,r=n?b.scroll.x:b.scroll.y,e=n?e.pageX-b.railh.offset().left:e.pageY-b.rail.offset().top,n=n?b.view.w:b.view.h,r>=e?t(n):t(-n)))};b.hasanimationframe=a;b.hascancelanimationframe=f;b.hasanimationframe?b.hascancelanimationframe||(f=function(){b.cancelAnimationFrame=!0}):(a=function(e){return setTimeout(e,15-Math.floor(+(new Date)/1e3)%16)},f=clearInterval);this.init=function(){b.saved.css=[];if(E.isie7mobile||E.isoperamini)return!0;E.hasmstouch&&b.css(b.ispage?e("html"):b.win,{"-ms-touch-action":"none"});b.zindex="auto";b.zindex=!b.ispage&&"auto"==b.opt.zindex?c()||"auto":b.opt.zindex;!b.ispage&&"auto"!=b.zindex&&b.zindex>o&&(o=b.zindex);b.isie&&0==b.zindex&&"auto"==b.opt.zindex&&(b.zindex="auto");if(!b.ispage||!E.cantouch&&!E.isieold&&!E.isie9mobile){var s=b.docscroll;b.ispage&&(s=b.haswrapper?b.win:b.doc);E.isie9mobile||b.css(s,{"overflow-y":"hidden"});b.ispage&&E.isie7&&("BODY"==b.doc[0].nodeName?b.css(e("html"),{"overflow-y":"hidden"}):"HTML"==b.doc[0].nodeName&&b.css(e("body"),{"overflow-y":"hidden"}));E.isios&&!b.ispage&&!b.haswrapper&&b.css(e("body"),{"-webkit-overflow-scrolling":"touch"});var u=e(document.createElement("div"));u.css({position:"relative",top:0,"float":"right",width:b.opt.cursorwidth,height:"0px","background-color":b.opt.cursorcolor,border:b.opt.cursorborder,"background-clip":"padding-box","-webkit-border-radius":b.opt.cursorborderradius,"-moz-border-radius":b.opt.cursorborderradius,"border-radius":b.opt.cursorborderradius});u.hborder=parseFloat(u.outerHeight()-u.innerHeight());b.cursor=u;var a=e(document.createElement("div"));a.attr("id",b.id);a.addClass("nicescroll-rails");var f,l,p=["left","right"],d;for(d in p)l=p[d],(f=b.opt.railpadding[l])?a.css("padding-"+l,f+"px"):b.opt.railpadding[l]=0;a.append(u);a.width=Math.max(parseFloat(b.opt.cursorwidth),u.outerWidth())+b.opt.railpadding.left+b.opt.railpadding.right;a.css({width:a.width+"px",zIndex:b.zindex,background:b.opt.background,cursor:"default"});a.visibility=!0;a.scrollable=!0;a.align="left"==b.opt.railalign?0:1;b.rail=a;u=b.rail.drag=!1;b.opt.boxzoom&&!b.ispage&&!E.isieold&&(u=document.createElement("div"),b.bind(u,"click",b.doZoom),b.zoom=e(u),b.zoom.css({cursor:"pointer","z-index":b.zindex,backgroundImage:"url("+b.opt.scriptpath+"zoomico.png)",height:18,width:18,backgroundPosition:"0px 0px"}),b.opt.dblclickzoom&&b.bind(b.win,"dblclick",b.doZoom),E.cantouch&&b.opt.gesturezoom&&(b.ongesturezoom=function(e){1.5<e.scale&&b.doZoomIn(e);.8>e.scale&&b.doZoomOut(e);return b.cancelEvent(e)},b.bind(b.win,"gestureend",b.ongesturezoom)));b.railh=!1;if(b.opt.horizrailenabled){b.css(s,{"overflow-x":"hidden"});u=e(document.createElement("div"));u.css({position:"relative",top:0,height:b.opt.cursorwidth,width:"0px","background-color":b.opt.cursorcolor,border:b.opt.cursorborder,"background-clip":"padding-box","-webkit-border-radius":b.opt.cursorborderradius,"-moz-border-radius":b.opt.cursorborderradius,"border-radius":b.opt.cursorborderradius});u.wborder=parseFloat(u.outerWidth()-u.innerWidth());b.cursorh=u;var v=e(document.createElement("div"));v.attr("id",b.id+"-hr");v.addClass("nicescroll-rails");v.height=Math.max(parseFloat(b.opt.cursorwidth),u.outerHeight());v.css({height:v.height+"px",zIndex:b.zindex,background:b.opt.background});v.append(u);v.visibility=!0;v.scrollable=!0;v.align="top"==b.opt.railvalign?0:1;b.railh=v;b.railh.drag=!1}b.ispage?(a.css({position:"fixed",top:"0px",height:"100%"}),a.align?a.css({right:"0px"}):a.css({left:"0px"}),b.body.append(a),b.railh&&(v.css({position:"fixed",left:"0px",width:"100%"}),v.align?v.css({bottom:"0px"}):v.css({top:"0px"}),b.body.append(v))):(b.ishwscroll?("static"==b.win.css("position")&&b.css(b.win,{position:"relative"}),s="HTML"==b.win[0].nodeName?b.body:b.win,b.zoom&&(b.zoom.css({position:"absolute",top:1,right:0,"margin-right":a.width+4}),s.append(b.zoom)),a.css({position:"absolute",top:0}),a.align?a.css({right:0}):a.css({left:0}),s.append(a),v&&(v.css({position:"absolute",left:0,bottom:0}),v.align?v.css({bottom:0}):v.css({top:0}),s.append(v))):(b.isfixed="fixed"==b.win.css("position"),s=b.isfixed?"fixed":"absolute",b.isfixed||(b.viewport=b.getViewport(b.win[0])),b.viewport&&(b.body=b.viewport,!1==/fixed|relative|absolute/.test(b.viewport.css("position"))&&b.css(b.viewport,{position:"relative"})),a.css({position:s}),b.zoom&&b.zoom.css({position:s}),b.updateScrollBar(),b.body.append(a),b.zoom&&b.body.append(b.zoom),b.railh&&(v.css({position:s}),b.body.append(v))),E.isios&&b.css(b.win,{"-webkit-tap-highlight-color":"rgba(0,0,0,0)","-webkit-touch-callout":"none"}),E.isie&&b.opt.disableoutline&&b.win.attr("hideFocus","true"),E.iswebkit&&b.opt.disableoutline&&b.win.css({outline:"none"}));!1===b.opt.autohidemode?(b.autohidedom=!1,b.rail.css({opacity:b.opt.cursoropacitymax}),b.railh&&b.railh.css({opacity:b.opt.cursoropacitymax})):!0===b.opt.autohidemode||"leave"===b.opt.autohidemode?(b.autohidedom=e().add(b.rail),E.isie8&&(b.autohidedom=b.autohidedom.add(b.cursor)),b.railh&&(b.autohidedom=b.autohidedom.add(b.railh)),b.railh&&E.isie8&&(b.autohidedom=b.autohidedom.add(b.cursorh))):"scroll"==b.opt.autohidemode?(b.autohidedom=e().add(b.rail),b.railh&&(b.autohidedom=b.autohidedom.add(b.railh))):"cursor"==b.opt.autohidemode?(b.autohidedom=e().add(b.cursor),b.railh&&(b.autohidedom=b.autohidedom.add(b.cursorh))):"hidden"==b.opt.autohidemode&&(b.autohidedom=!1,b.hide(),b.locked=!1);if(E.isie9mobile)b.scrollmom=new g(b),b.onmangotouch=function(e){e=b.getScrollTop();var t=b.getScrollLeft();if(e==b.scrollmom.lastscrolly&&t==b.scrollmom.lastscrollx)return!0;var n=e-b.mangotouch.sy,r=t-b.mangotouch.sx;if(0!=Math.round(Math.sqrt(Math.pow(r,2)+Math.pow(n,2)))){var i=0>n?-1:1,s=0>r?-1:1,o=+(new Date);b.mangotouch.lazy&&clearTimeout(b.mangotouch.lazy);80<o-b.mangotouch.tm||b.mangotouch.dry!=i||b.mangotouch.drx!=s?(b.scrollmom.stop(),b.scrollmom.reset(t,e),b.mangotouch.sy=e,b.mangotouch.ly=e,b.mangotouch.sx=t,b.mangotouch.lx=t,b.mangotouch.dry=i,b.mangotouch.drx=s,b.mangotouch.tm=o):(b.scrollmom.stop(),b.scrollmom.update(b.mangotouch.sx-r,b.mangotouch.sy-n),b.mangotouch.tm=o,n=Math.max(Math.abs(b.mangotouch.ly-e),Math.abs(b.mangotouch.lx-t)),b.mangotouch.ly=e,b.mangotouch.lx=t,2<n&&(b.mangotouch.lazy=setTimeout(function(){b.mangotouch.lazy=!1;b.mangotouch.dry=0;b.mangotouch.drx=0;b.mangotouch.tm=0;b.scrollmom.doMomentum(30)},100)))}},a=b.getScrollTop(),v=b.getScrollLeft(),b.mangotouch={sy:a,ly:a,dry:0,sx:v,lx:v,drx:0,lazy:!1,tm:0},b.bind(b.docscroll,"scroll",b.onmangotouch);else{if(E.cantouch||b.istouchcapable||b.opt.touchbehavior||E.hasmstouch){b.scrollmom=new g(b);b.ontouchstart=function(t){if(t.pointerType&&2!=t.pointerType)return!1;b.hasmoving=!1;if(!b.locked){if(E.hasmstouch)for(var r=t.target?t.target:!1;r;){var i=e(r).getNiceScroll();if(0<i.length&&i[0].me==b.me)break;if(0<i.length)return!1;if("DIV"==r.nodeName&&r.id==b.id)break;r=r.parentNode?r.parentNode:!1}b.cancelScroll();if((r=b.getTarget(t))&&/INPUT/i.test(r.nodeName)&&/range/i.test(r.type))return b.stopPropagation(t);!("clientX"in t)&&"changedTouches"in t&&(t.clientX=t.changedTouches[0].clientX,t.clientY=t.changedTouches[0].clientY);b.forcescreen&&(i=t,t={original:t.original?t.original:t},t.clientX=i.screenX,t.clientY=i.screenY);b.rail.drag={x:t.clientX,y:t.clientY,sx:b.scroll.x,sy:b.scroll.y,st:b.getScrollTop(),sl:b.getScrollLeft(),pt:2,dl:!1};if(b.ispage||!b.opt.directionlockdeadzone)b.rail.drag.dl="f";else{var i=e(n).width(),s=e(n).height(),o=Math.max(document.body.scrollWidth,document.documentElement.scrollWidth),u=Math.max(document.body.scrollHeight,document.documentElement.scrollHeight),s=Math.max(0,u-s),i=Math.max(0,o-i);b.rail.drag.ck=!b.rail.scrollable&&b.railh.scrollable?0<s?"v":!1:b.rail.scrollable&&!b.railh.scrollable?0<i?"h":!1:!1;b.rail.drag.ck||(b.rail.drag.dl="f")}b.opt.touchbehavior&&b.isiframe&&E.isie&&(i=b.win.position(),b.rail.drag.x+=i.left,b.rail.drag.y+=i.top);b.hasmoving=!1;b.lastmouseup=!1;b.scrollmom.reset(t.clientX,t.clientY);if(!E.cantouch&&!this.istouchcapable&&!E.hasmstouch){if(!r||!/INPUT|SELECT|TEXTAREA/i.test(r.nodeName))return!b.ispage&&E.hasmousecapture&&r.setCapture(),b.opt.touchbehavior?(r.onclick&&!r._onclick&&(r._onclick=r.onclick,r.onclick=function(e){if(b.hasmoving)return!1;r._onclick.call(this,e)}),b.cancelEvent(t)):b.stopPropagation(t);/SUBMIT|CANCEL|BUTTON/i.test(e(r).attr("type"))&&(pc={tg:r,click:!1},b.preventclick=pc)}}};b.ontouchend=function(e){if(e.pointerType&&2!=e.pointerType)return!1;if(b.rail.drag&&2==b.rail.drag.pt&&(b.scrollmom.doMomentum(),b.rail.drag=!1,b.hasmoving&&(b.lastmouseup=!0,b.hideCursor(),E.hasmousecapture&&document.releaseCapture(),!E.cantouch)))return b.cancelEvent(e)};var m=b.opt.touchbehavior&&b.isiframe&&!E.hasmousecapture;b.ontouchmove=function(t,n){if(t.pointerType&&2!=t.pointerType)return!1;if(b.rail.drag&&2==b.rail.drag.pt){if(E.cantouch&&"undefined"==typeof t.original)return!0;b.hasmoving=!0;b.preventclick&&!b.preventclick.click&&(b.preventclick.click=b.preventclick.tg.onclick||!1,b.preventclick.tg.onclick=b.onpreventclick);t=e.extend({original:t},t);"changedTouches"in t&&(t.clientX=t.changedTouches[0].clientX,t.clientY=t.changedTouches[0].clientY);if(b.forcescreen){var r=t;t={original:t.original?t.original:t};t.clientX=r.screenX;t.clientY=r.screenY}r=ofy=0;if(m&&!n){var i=b.win.position(),r=-i.left;ofy=-i.top}var s=t.clientY+ofy,i=s-b.rail.drag.y,o=t.clientX+r,u=o-b.rail.drag.x,a=b.rail.drag.st-i;b.ishwscroll&&b.opt.bouncescroll?0>a?a=Math.round(a/2):a>b.page.maxh&&(a=b.page.maxh+Math.round((a-b.page.maxh)/2)):(0>a&&(s=a=0),a>b.page.maxh&&(a=b.page.maxh,s=0));if(b.railh&&b.railh.scrollable){var f=b.rail.drag.sl-u;b.ishwscroll&&b.opt.bouncescroll?0>f?f=Math.round(f/2):f>b.page.maxw&&(f=b.page.maxw+Math.round((f-b.page.maxw)/2)):(0>f&&(o=f=0),f>b.page.maxw&&(f=b.page.maxw,o=0))}r=!1;if(b.rail.drag.dl)r=!0,"v"==b.rail.drag.dl?f=b.rail.drag.sl:"h"==b.rail.drag.dl&&(a=b.rail.drag.st);else{var i=Math.abs(i),u=Math.abs(u),l=b.opt.directionlockdeadzone;if("v"==b.rail.drag.ck){if(i>l&&u<=.3*i)return b.rail.drag=!1,!0;u>l&&(b.rail.drag.dl="f",e("body").scrollTop(e("body").scrollTop()))}else if("h"==b.rail.drag.ck){if(u>l&&i<=.3*u)return b.rail.drag=!1,!0;i>l&&(b.rail.drag.dl="f",e("body").scrollLeft(e("body").scrollLeft()))}}b.synched("touchmove",function(){b.rail.drag&&2==b.rail.drag.pt&&(b.prepareTransition&&b.prepareTransition(0),b.rail.scrollable&&b.setScrollTop(a),b.scrollmom.update(o,s),b.railh&&b.railh.scrollable?(b.setScrollLeft(f),b.showCursor(a,f)):b.showCursor(a),E.isie10&&document.selection.clear())});E.ischrome&&b.istouchcapable&&(r=!1);if(r)return b.cancelEvent(t)}}}b.onmousedown=function(e,t){if(!(b.rail.drag&&1!=b.rail.drag.pt)){if(b.locked)return b.cancelEvent(e);b.cancelScroll();b.rail.drag={x:e.clientX,y:e.clientY,sx:b.scroll.x,sy:b.scroll.y,pt:1,hr:!!t};var n=b.getTarget(e);!b.ispage&&E.hasmousecapture&&n.setCapture();b.isiframe&&!E.hasmousecapture&&(b.saved.csspointerevents=b.doc.css("pointer-events"),b.css(b.doc,{"pointer-events":"none"}));b.hasmoving=!1;return b.cancelEvent(e)}};b.onmouseup=function(e){if(b.rail.drag&&(E.hasmousecapture&&document.releaseCapture(),b.isiframe&&!E.hasmousecapture&&b.doc.css("pointer-events",b.saved.csspointerevents),1==b.rail.drag.pt))return b.rail.drag=!1,b.hasmoving&&b.triggerScrollEnd(),b.cancelEvent(e)};b.onmousemove=function(e){if(b.rail.drag&&1==b.rail.drag.pt){if(E.ischrome&&0==e.which)return b.onmouseup(e);b.cursorfreezed=!0;b.hasmoving=!0;if(b.rail.drag.hr){b.scroll.x=b.rail.drag.sx+(e.clientX-b.rail.drag.x);0>b.scroll.x&&(b.scroll.x=0);var t=b.scrollvaluemaxw;b.scroll.x>t&&(b.scroll.x=t)}else b.scroll.y=b.rail.drag.sy+(e.clientY-b.rail.drag.y),0>b.scroll.y&&(b.scroll.y=0),t=b.scrollvaluemax,b.scroll.y>t&&(b.scroll.y=t);b.synched("mousemove",function(){b.rail.drag&&1==b.rail.drag.pt&&(b.showCursor(),b.rail.drag.hr?b.doScrollLeft(Math.round(b.scroll.x*b.scrollratio.x),b.opt.cursordragspeed):b.doScrollTop(Math.round(b.scroll.y*b.scrollratio.y),b.opt.cursordragspeed))});return b.cancelEvent(e)}};if(E.cantouch||b.opt.touchbehavior)b.onpreventclick=function(e){if(b.preventclick)return b.preventclick.tg.onclick=b.preventclick.click,b.preventclick=!1,b.cancelEvent(e)},b.bind(b.win,"mousedown",b.ontouchstart),b.onclick=E.isios?!1:function(e){return b.lastmouseup?(b.lastmouseup=!1,b.cancelEvent(e)):!0},b.opt.grabcursorenabled&&E.cursorgrabvalue&&(b.css(b.ispage?b.doc:b.win,{cursor:E.cursorgrabvalue}),b.css(b.rail,{cursor:E.cursorgrabvalue}));else{var y=function(e){if(b.selectiondrag){if(e){var t=b.win.outerHeight();e=e.pageY-b.selectiondrag.top;0<e&&e<t&&(e=0);e>=t&&(e-=t);b.selectiondrag.df=e}0!=b.selectiondrag.df&&(b.doScrollBy(2*-Math.floor(b.selectiondrag.df/6)),b.debounced("doselectionscroll",function(){y()},50))}};b.hasTextSelected="getSelection"in document?function(){return 0<document.getSelection().rangeCount}:"selection"in document?function(){return"None"!=document.selection.type}:function(){return!1};b.onselectionstart=function(e){b.ispage||(b.selectiondrag=b.win.offset())};b.onselectionend=function(e){b.selectiondrag=!1};b.onselectiondrag=function(e){b.selectiondrag&&b.hasTextSelected()&&b.debounced("selectionscroll",function(){y(e)},250)}}E.hasmstouch&&(b.css(b.rail,{"-ms-touch-action":"none"}),b.css(b.cursor,{"-ms-touch-action":"none"}),b.bind(b.win,"MSPointerDown",b.ontouchstart),b.bind(document,"MSPointerUp",b.ontouchend),b.bind(document,"MSPointerMove",b.ontouchmove),b.bind(b.cursor,"MSGestureHold",function(e){e.preventDefault()}),b.bind(b.cursor,"contextmenu",function(e){e.preventDefault()}));this.istouchcapable&&(b.bind(b.win,"touchstart",b.ontouchstart),b.bind(document,"touchend",b.ontouchend),b.bind(document,"touchcancel",b.ontouchend),b.bind(document,"touchmove",b.ontouchmove));b.bind(b.cursor,"mousedown",b.onmousedown);b.bind(b.cursor,"mouseup",b.onmouseup);b.railh&&(b.bind(b.cursorh,"mousedown",function(e){b.onmousedown(e,!0)}),b.bind(b.cursorh,"mouseup",b.onmouseup));if(b.opt.cursordragontouch||!E.cantouch&&!b.opt.touchbehavior)b.rail.css({cursor:"default"}),b.railh&&b.railh.css({cursor:"default"}),b.jqbind(b.rail,"mouseenter",function(){if(!b.win.is(":visible"))return!1;b.canshowonmouseevent&&b.showCursor();b.rail.active=!0}),b.jqbind(b.rail,"mouseleave",function(){b.rail.active=!1;b.rail.drag||b.hideCursor()}),b.opt.sensitiverail&&(b.bind(b.rail,"click",function(e){b.doRailClick(e,!1,!1)}),b.bind(b.rail,"dblclick",function(e){b.doRailClick(e,!0,!1)}),b.bind(b.cursor,"click",function(e){b.cancelEvent(e)}),b.bind(b.cursor,"dblclick",function(e){b.cancelEvent(e)})),b.railh&&(b.jqbind(b.railh,"mouseenter",function(){if(!b.win.is(":visible"))return!1;b.canshowonmouseevent&&b.showCursor();b.rail.active=!0}),b.jqbind(b.railh,"mouseleave",function(){b.rail.active=!1;b.rail.drag||b.hideCursor()}),b.opt.sensitiverail&&(b.bind(b.railh,"click",function(e){b.doRailClick(e,!1,!0)}),b.bind(b.railh,"dblclick",function(e){b.doRailClick(e,!0,!0)}),b.bind(b.cursorh,"click",function(e){b.cancelEvent(e)}),b.bind(b.cursorh,"dblclick",function(e){b.cancelEvent(e)})));!E.cantouch&&!b.opt.touchbehavior?(b.bind(E.hasmousecapture?b.win:document,"mouseup",b.onmouseup),b.bind(document,"mousemove",b.onmousemove),b.onclick&&b.bind(document,"click",b.onclick),!b.ispage&&b.opt.enablescrollonselection&&(b.bind(b.win[0],"mousedown",b.onselectionstart),b.bind(document,"mouseup",b.onselectionend),b.bind(b.cursor,"mouseup",b.onselectionend),b.cursorh&&b.bind(b.cursorh,"mouseup",b.onselectionend),b.bind(document,"mousemove",b.onselectiondrag)),b.zoom&&(b.jqbind(b.zoom,"mouseenter",function(){b.canshowonmouseevent&&b.showCursor();b.rail.active=!0}),b.jqbind(b.zoom,"mouseleave",function(){b.rail.active=!1;b.rail.drag||b.hideCursor()}))):(b.bind(E.hasmousecapture?b.win:document,"mouseup",b.ontouchend),b.bind(document,"mousemove",b.ontouchmove),b.onclick&&b.bind(document,"click",b.onclick),b.opt.cursordragontouch&&(b.bind(b.cursor,"mousedown",b.onmousedown),b.bind(b.cursor,"mousemove",b.onmousemove),b.cursorh&&b.bind(b.cursorh,"mousedown",function(e){b.onmousedown(e,!0)}),b.cursorh&&b.bind(b.cursorh,"mousemove",b.onmousemove)));b.opt.enablemousewheel&&(b.isiframe||b.bind(E.isie&&b.ispage?document:b.win,"mousewheel",b.onmousewheel),b.bind(b.rail,"mousewheel",b.onmousewheel),b.railh&&b.bind(b.railh,"mousewheel",b.onmousewheelhr));!b.ispage&&!E.cantouch&&!/HTML|^BODY/.test(b.win[0].nodeName)&&(b.win.attr("tabindex")||b.win.attr({tabindex:i++}),b.jqbind(b.win,"focus",function(e){t=b.getTarget(e).id||!0;b.hasfocus=!0;b.canshowonmouseevent&&b.noticeCursor()}),b.jqbind(b.win,"blur",function(e){t=!1;b.hasfocus=!1}),b.jqbind(b.win,"mouseenter",function(e){r=b.getTarget(e).id||!0;b.hasmousefocus=!0;b.canshowonmouseevent&&b.noticeCursor()}),b.jqbind(b.win,"mouseleave",function(){r=!1;b.hasmousefocus=!1;b.rail.drag||b.hideCursor()}))}b.onkeypress=function(i){if(b.locked&&0==b.page.maxh)return!0;i=i?i:n.e;var s=b.getTarget(i);if(s&&/INPUT|TEXTAREA|SELECT|OPTION/.test(s.nodeName)&&(!s.getAttribute("type")&&!s.type||!/submit|button|cancel/i.tp)||e(s).attr("contenteditable"))return!0;if(b.hasfocus||b.hasmousefocus&&!t||b.ispage&&!t&&!r){s=i.keyCode;if(b.locked&&27!=s)return b.cancelEvent(i);var o=i.ctrlKey||!1,u=i.shiftKey||!1,a=!1;switch(s){case 38:case 63233:b.doScrollBy(72);a=!0;break;case 40:case 63235:b.doScrollBy(-72);a=!0;break;case 37:case 63232:b.railh&&(o?b.doScrollLeft(0):b.doScrollLeftBy(72),a=!0);break;case 39:case 63234:b.railh&&(o?b.doScrollLeft(b.page.maxw):b.doScrollLeftBy(-72),a=!0);break;case 33:case 63276:b.doScrollBy(b.view.h);a=!0;break;case 34:case 63277:b.doScrollBy(-b.view.h);a=!0;break;case 36:case 63273:b.railh&&o?b.doScrollPos(0,0):b.doScrollTo(0);a=!0;break;case 35:case 63275:b.railh&&o?b.doScrollPos(b.page.maxw,b.page.maxh):b.doScrollTo(b.page.maxh);a=!0;break;case 32:b.opt.spacebarenabled&&(u?b.doScrollBy(b.view.h):b.doScrollBy(-b.view.h),a=!0);break;case 27:b.zoomactive&&(b.doZoom(),a=!0)}if(a)return b.cancelEvent(i)}};b.opt.enablekeyboard&&b.bind(document,E.isopera&&!E.isopera12?"keypress":"keydown",b.onkeypress);b.bind(document,"keydown",function(e){e.ctrlKey&&(b.wheelprevented=!0)});b.bind(document,"keyup",function(e){e.ctrlKey||(b.wheelprevented=!1)});b.bind(n,"resize",b.lazyResize);b.bind(n,"orientationchange",b.lazyResize);b.bind(n,"load",b.lazyResize);if(E.ischrome&&!b.ispage&&!b.haswrapper){var w=b.win.attr("style"),a=parseFloat(b.win.css("width"))+1;b.win.css("width",a);b.synched("chromefix",function(){b.win.attr("style",w)})}b.onAttributeChange=function(e){b.lazyResize(250)};!b.ispage&&!b.haswrapper&&(!1!==h?(b.observer=new h(function(e){e.forEach(b.onAttributeChange)}),b.observer.observe(b.win[0],{childList:!0,characterData:!1,attributes:!0,subtree:!1}),b.observerremover=new h(function(e){e.forEach(function(e){if(0<e.removedNodes.length)for(var t in e.removedNodes)if(e.removedNodes[t]==b.win[0])return b.remove()})}),b.observerremover.observe(b.win[0].parentNode,{childList:!0,characterData:!1,attributes:!1,subtree:!1})):(b.bind(b.win,E.isie&&!E.isie9?"propertychange":"DOMAttrModified",b.onAttributeChange),E.isie9&&b.win[0].attachEvent("onpropertychange",b.onAttributeChange),b.bind(b.win,"DOMNodeRemoved",function(e){e.target==b.win[0]&&b.remove()})));!b.ispage&&b.opt.boxzoom&&b.bind(n,"resize",b.resizeZoom);b.istextarea&&b.bind(b.win,"mouseup",b.lazyResize);b.lazyResize(30)}if("IFRAME"==this.doc[0].nodeName){var S=function(t){b.iframexd=!1;try{var r="contentDocument"in this?this.contentDocument:this.contentWindow.document}catch(i){b.iframexd=!0,r=!1}if(b.iframexd)return"console"in n&&console.log("NiceScroll error: policy restriced iframe"),!0;b.forcescreen=!0;b.isiframe&&(b.iframe={doc:e(r),html:b.doc.contents().find("html")[0],body:b.doc.contents().find("body")[0]},b.getContentSize=function(){return{w:Math.max(b.iframe.html.scrollWidth,b.iframe.body.scrollWidth),h:Math.max(b.iframe.html.scrollHeight,b.iframe.body.scrollHeight)}},b.docscroll=e(b.iframe.body));!E.isios&&b.opt.iframeautoresize&&!b.isiframe&&(b.win.scrollTop(0),b.doc.height(""),t=Math.max(r.getElementsByTagName("html")[0].scrollHeight,r.body.scrollHeight),b.doc.height(t));b.lazyResize(30);E.isie7&&b.css(e(b.iframe.html),{"overflow-y":"hidden"});b.css(e(b.iframe.body),{"overflow-y":"hidden"});E.isios&&b.haswrapper&&b.css(e(r.body),{"-webkit-transform":"translate3d(0,0,0)"});"contentWindow"in this?b.bind(this.contentWindow,"scroll",b.onscroll):b.bind(r,"scroll",b.onscroll);b.opt.enablemousewheel&&b.bind(r,"mousewheel",b.onmousewheel);b.opt.enablekeyboard&&b.bind(r,E.isopera?"keypress":"keydown",b.onkeypress);if(E.cantouch||b.opt.touchbehavior)b.bind(r,"mousedown",b.ontouchstart),b.bind(r,"mousemove",function(e){b.ontouchmove(e,!0)}),b.opt.grabcursorenabled&&E.cursorgrabvalue&&b.css(e(r.body),{cursor:E.cursorgrabvalue});b.bind(r,"mouseup",b.ontouchend);b.zoom&&(b.opt.dblclickzoom&&b.bind(r,"dblclick",b.doZoom),b.ongesturezoom&&b.bind(r,"gestureend",b.ongesturezoom))};this.doc[0].readyState&&"complete"==this.doc[0].readyState&&setTimeout(function(){S.call(b.doc[0],!1)},500);b.bind(this.doc,"load",S)}};this.showCursor=function(e,t){b.cursortimeout&&(clearTimeout(b.cursortimeout),b.cursortimeout=0);if(b.rail){b.autohidedom&&(b.autohidedom.stop().css({opacity:b.opt.cursoropacitymax}),b.cursoractive=!0);if(!b.rail.drag||1!=b.rail.drag.pt)"undefined"!=typeof e&&!1!==e&&(b.scroll.y=Math.round(1*e/b.scrollratio.y)),"undefined"!=typeof t&&(b.scroll.x=Math.round(1*t/b.scrollratio.x));b.cursor.css({height:b.cursorheight,top:b.scroll.y});b.cursorh&&(!b.rail.align&&b.rail.visibility?b.cursorh.css({width:b.cursorwidth,left:b.scroll.x+b.rail.width}):b.cursorh.css({width:b.cursorwidth,left:b.scroll.x}),b.cursoractive=!0);b.zoom&&b.zoom.stop().css({opacity:b.opt.cursoropacitymax})}};this.hideCursor=function(e){!b.cursortimeout&&b.rail&&b.autohidedom&&!(b.hasmousefocus&&"leave"==b.opt.autohidemode)&&(b.cursortimeout=setTimeout(function(){if(!b.rail.active||!b.showonmouseevent)b.autohidedom.stop().animate({opacity:b.opt.cursoropacitymin}),b.zoom&&b.zoom.stop().animate({opacity:b.opt.cursoropacitymin}),b.cursoractive=!1;b.cursortimeout=0},e||b.opt.hidecursordelay))};this.noticeCursor=function(e,t,n){b.showCursor(t,n);b.rail.active||b.hideCursor(e)};this.getContentSize=b.ispage?function(){return{w:Math.max(document.body.scrollWidth,document.documentElement.scrollWidth),h:Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)}}:b.haswrapper?function(){return{w:b.doc.outerWidth()+parseInt(b.win.css("paddingLeft"))+parseInt(b.win.css("paddingRight")),h:b.doc.outerHeight()+parseInt(b.win.css("paddingTop"))+parseInt(b.win.css("paddingBottom"))}}:function(){return{w:b.docscroll[0].scrollWidth,h:b.docscroll[0].scrollHeight}};this.onResize=function(e,t){if(!b||!b.win)return!1;if(!b.haswrapper&&!b.ispage){if("none"==b.win.css("display"))return b.visibility&&b.hideRail().hideRailHr(),!1;!b.hidden&&!b.visibility&&b.showRail().showRailHr()}var n=b.page.maxh,r=b.page.maxw,i=b.view.w;b.view={w:b.ispage?b.win.width():parseInt(b.win[0].clientWidth),h:b.ispage?b.win.height():parseInt(b.win[0].clientHeight)};b.page=t?t:b.getContentSize();b.page.maxh=Math.max(0,b.page.h-b.view.h);b.page.maxw=Math.max(0,b.page.w-b.view.w);if(b.page.maxh==n&&b.page.maxw==r&&b.view.w==i){if(b.ispage)return b;n=b.win.offset();if(b.lastposition&&(r=b.lastposition,r.top==n.top&&r.left==n.left))return b;b.lastposition=n}0==b.page.maxh?(b.hideRail(),b.scrollvaluemax=0,b.scroll.y=0,b.scrollratio.y=0,b.cursorheight=0,b.setScrollTop(0),b.rail.scrollable=!1):b.rail.scrollable=!0;0==b.page.maxw?(b.hideRailHr(),b.scrollvaluemaxw=0,b.scroll.x=0,b.scrollratio.x=0,b.cursorwidth=0,b.setScrollLeft(0),b.railh.scrollable=!1):b.railh.scrollable=!0;b.locked=0==b.page.maxh&&0==b.page.maxw;if(b.locked)return b.ispage||b.updateScrollBar(b.view),!1;!b.hidden&&!b.visibility?b.showRail().showRailHr():!b.hidden&&!b.railh.visibility&&b.showRailHr();b.istextarea&&b.win.css("resize")&&"none"!=b.win.css("resize")&&(b.view.h-=20);b.cursorheight=Math.min(b.view.h,Math.round(b.view.h*(b.view.h/b.page.h)));b.cursorheight=b.opt.cursorfixedheight?b.opt.cursorfixedheight:Math.max(b.opt.cursorminheight,b.cursorheight);b.cursorwidth=Math.min(b.view.w,Math.round(b.view.w*(b.view.w/b.page.w)));b.cursorwidth=b.opt.cursorfixedheight?b.opt.cursorfixedheight:Math.max(b.opt.cursorminheight,b.cursorwidth);b.scrollvaluemax=b.view.h-b.cursorheight-b.cursor.hborder;b.railh&&(b.railh.width=0<b.page.maxh?b.view.w-b.rail.width:b.view.w,b.scrollvaluemaxw=b.railh.width-b.cursorwidth-b.cursorh.wborder);b.ispage||b.updateScrollBar(b.view);b.scrollratio={x:b.page.maxw/b.scrollvaluemaxw,y:b.page.maxh/b.scrollvaluemax};b.getScrollTop()>b.page.maxh?b.doScrollTop(b.page.maxh):(b.scroll.y=Math.round(b.getScrollTop()*(1/b.scrollratio.y)),b.scroll.x=Math.round(b.getScrollLeft()*(1/b.scrollratio.x)),b.cursoractive&&b.noticeCursor());b.scroll.y&&0==b.getScrollTop()&&b.doScrollTo(Math.floor(b.scroll.y*b.scrollratio.y));return b};this.resize=b.onResize;this.lazyResize=function(e){e=isNaN(e)?30:e;b.delayed("resize",b.resize,e);return b};this._bind=function(e,t,n,r){b.events.push({e:e,n:t,f:n,b:r,q:!1});e.addEventListener?e.addEventListener(t,n,r||!1):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n};this.jqbind=function(t,n,r){b.events.push({e:t,n:n,f:r,q:!0});e(t).bind(n,r)};this.bind=function(e,t,r,i){var s="jquery"in e?e[0]:e;"mousewheel"==t?"onwheel"in b.win?b._bind(s,"wheel",r,i||!1):(e="undefined"!=typeof document.onmousewheel?"mousewheel":"DOMMouseScroll",m(s,e,r,i||!1),"DOMMouseScroll"==e&&m(s,"MozMousePixelScroll",r,i||!1)):s.addEventListener?(E.cantouch&&/mouseup|mousedown|mousemove/.test(t)&&b._bind(s,"mousedown"==t?"touchstart":"mouseup"==t?"touchend":"touchmove",function(e){if(e.touches){if(2>e.touches.length){var t=e.touches.length?e.touches[0]:e;t.original=e;r.call(this,t)}}else e.changedTouches&&(t=e.changedTouches[0],t.original=e,r.call(this,t))},i||!1),b._bind(s,t,r,i||!1),E.cantouch&&"mouseup"==t&&b._bind(s,"touchcancel",r,i||!1)):b._bind(s,t,function(e){if((e=e||n.event||!1)&&e.srcElement)e.target=e.srcElement;"pageY"in e||(e.pageX=e.clientX+document.documentElement.scrollLeft,e.pageY=e.clientY+document.documentElement.scrollTop);return!1===r.call(s,e)||!1===i?b.cancelEvent(e):!0})};this._unbind=function(e,t,n,r){e.removeEventListener?e.removeEventListener(t,n,r):e.detachEvent?e.detachEvent("on"+t,n):e["on"+t]=!1};this.unbindAll=function(){for(var e=0;e<b.events.length;e++){var t=b.events[e];t.q?t.e.unbind(t.n,t.f):b._unbind(t.e,t.n,t.f,t.b)}};this.cancelEvent=function(e){e=e.original?e.original:e?e:n.event||!1;if(!e)return!1;e.preventDefault&&e.preventDefault();e.stopPropagation&&e.stopPropagation();e.preventManipulation&&e.preventManipulation();e.cancelBubble=!0;e.cancel=!0;return e.returnValue=!1};this.stopPropagation=function(e){e=e.original?e.original:e?e:n.event||!1;if(!e)return!1;if(e.stopPropagation)return e.stopPropagation();e.cancelBubble&&(e.cancelBubble=!0);return!1};this.showRail=function(){if(0!=b.page.maxh&&(b.ispage||"none"!=b.win.css("display")))b.visibility=!0,b.rail.visibility=!0,b.rail.css("display","block");return b};this.showRailHr=function(){if(!b.railh)return b;if(0!=b.page.maxw&&(b.ispage||"none"!=b.win.css("display")))b.railh.visibility=!0,b.railh.css("display","block");return b};this.hideRail=function(){b.visibility=!1;b.rail.visibility=!1;b.rail.css("display","none");return b};this.hideRailHr=function(){if(!b.railh)return b;b.railh.visibility=!1;b.railh.css("display","none");return b};this.show=function(){b.hidden=!1;b.locked=!1;return b.showRail().showRailHr()};this.hide=function(){b.hidden=!0;b.locked=!0;return b.hideRail().hideRailHr()};this.toggle=function(){return b.hidden?b.show():b.hide()};this.remove=function(){b.stop();b.cursortimeout&&clearTimeout(b.cursortimeout);b.doZoomOut();b.unbindAll();E.isie9&&b.win[0].detachEvent("onpropertychange",b.onAttributeChange);!1!==b.observer&&b.observer.disconnect();!1!==b.observerremover&&b.observerremover.disconnect();b.events=null;b.cursor&&b.cursor.remove();b.cursorh&&b.cursorh.remove();b.rail&&b.rail.remove();b.railh&&b.railh.remove();b.zoom&&b.zoom.remove();for(var t=0;t<b.saved.css.length;t++){var n=b.saved.css[t];n[0].css(n[1],"undefined"==typeof n[2]?"":n[2])}b.saved=!1;b.me.data("__nicescroll","");var r=e.nicescroll;r.each(function(e){if(this&&this.id===b.id){delete r[e];for(var t=++e;t<r.length;t++,e++)r[e]=r[t];r.length--;r.length&&delete r[r.length]}});for(var i in b)b[i]=null,delete b[i];b=null};this.scrollstart=function(e){this.onscrollstart=e;return b};this.scrollend=function(e){this.onscrollend=e;return b};this.scrollcancel=function(e){this.onscrollcancel=e;return b};this.zoomin=function(e){this.onzoomin=e;return b};this.zoomout=function(e){this.onzoomout=e;return b};this.isScrollable=function(t){t=t.target?t.target:t;if("OPTION"==t.nodeName)return!0;for(;t&&1==t.nodeType&&!/^BODY|HTML/.test(t.nodeName);){var n=e(t),n=n.css("overflowY")||n.css("overflowX")||n.css("overflow")||"";if(/scroll|auto/.test(n))return t.clientHeight!=t.scrollHeight;t=t.parentNode?t.parentNode:!1}return!1};this.getViewport=function(t){for(t=t&&t.parentNode?t.parentNode:!1;t&&1==t.nodeType&&!/^BODY|HTML/.test(t.nodeName);){var n=e(t);if(/fixed|absolute/.test(n.css("position")))return n;var r=n.css("overflowY")||n.css("overflowX")||n.css("overflow")||"";if(/scroll|auto/.test(r)&&t.clientHeight!=t.scrollHeight||0<n.getNiceScroll().length)return n;t=t.parentNode?t.parentNode:!1}return t?e(t):!1};this.triggerScrollEnd=function(){if(b.onscrollend){var e=b.getScrollLeft(),t=b.getScrollTop();b.onscrollend.call(b,{type:"scrollend",current:{x:e,y:t},end:{x:e,y:t}})}};this.onmousewheel=function(e){if(!b.wheelprevented){if(b.locked)return b.debounced("checkunlock",b.resize,250),!0;if(b.rail.drag)return b.cancelEvent(e);"auto"==b.opt.oneaxismousemode&&0!=e.deltaX&&(b.opt.oneaxismousemode=!1);if(b.opt.oneaxismousemode&&0==e.deltaX&&!b.rail.scrollable)return b.railh&&b.railh.scrollable?b.onmousewheelhr(e):!0;var t=+(new Date),n=!1;b.opt.preservenativescrolling&&b.checkarea+600<t&&(b.nativescrollingarea=b.isScrollable(e),n=!0);b.checkarea=t;if(b.nativescrollingarea)return!0;if(e=y(e,!1,n))b.checkarea=0;return e}};this.onmousewheelhr=function(e){if(!b.wheelprevented){if(b.locked||!b.railh.scrollable)return!0;if(b.rail.drag)return b.cancelEvent(e);var t=+(new Date),n=!1;b.opt.preservenativescrolling&&b.checkarea+600<t&&(b.nativescrollingarea=b.isScrollable(e),n=!0);b.checkarea=t;return b.nativescrollingarea?!0:b.locked?b.cancelEvent(e):y(e,!0,n)}};this.stop=function(){b.cancelScroll();b.scrollmon&&b.scrollmon.stop();b.cursorfreezed=!1;b.scroll.y=Math.round(b.getScrollTop()*(1/b.scrollratio.y));b.noticeCursor();return b};this.getTransitionSpeed=function(e){var t=Math.round(10*b.opt.scrollspeed);e=Math.min(t,Math.round(e/20*b.opt.scrollspeed));return 20<e?e:0};b.opt.smoothscroll?b.ishwscroll&&E.hastransition&&b.opt.usetransition?(this.prepareTransition=function(e,t){var n=t?20<e?e:0:b.getTransitionSpeed(e),r=n?E.prefixstyle+"transform "+n+"ms ease-out":"";if(!b.lasttransitionstyle||b.lasttransitionstyle!=r)b.lasttransitionstyle=r,b.doc.css(E.transitionstyle,r);return n},this.doScrollLeft=function(e,t){var n=b.scrollrunning?b.newscrolly:b.getScrollTop();b.doScrollPos(e,n,t)},this.doScrollTop=function(e,t){var n=b.scrollrunning?b.newscrollx:b.getScrollLeft();b.doScrollPos(n,e,t)},this.doScrollPos=function(e,t,n){var r=b.getScrollTop(),i=b.getScrollLeft();(0>(b.newscrolly-r)*(t-r)||0>(b.newscrollx-i)*(e-i))&&b.cancelScroll();!1==b.opt.bouncescroll&&(0>t?t=0:t>b.page.maxh&&(t=b.page.maxh),0>e?e=0:e>b.page.maxw&&(e=b.page.maxw));if(b.scrollrunning&&e==b.newscrollx&&t==b.newscrolly)return!1;b.newscrolly=t;b.newscrollx=e;b.newscrollspeed=n||!1;if(b.timer)return!1;b.timer=setTimeout(function(){var n=b.getScrollTop(),r=b.getScrollLeft(),i,s;i=e-r;s=t-n;i=Math.round(Math.sqrt(Math.pow(i,2)+Math.pow(s,2)));i=b.newscrollspeed&&1<b.newscrollspeed?b.newscrollspeed:b.getTransitionSpeed(i);b.newscrollspeed&&1>=b.newscrollspeed&&(i*=b.newscrollspeed);b.prepareTransition(i,!0);b.timerscroll&&b.timerscroll.tm&&clearInterval(b.timerscroll.tm);0<i&&(!b.scrollrunning&&b.onscrollstart&&b.onscrollstart.call(b,{type:"scrollstart",current:{x:r,y:n},request:{x:e,y:t},end:{x:b.newscrollx,y:b.newscrolly},speed:i}),E.transitionend?b.scrollendtrapped||(b.scrollendtrapped=!0,b.bind(b.doc,E.transitionend,b.onScrollTransitionEnd,!1)):(b.scrollendtrapped&&clearTimeout(b.scrollendtrapped),b.scrollendtrapped=setTimeout(b.onScrollTransitionEnd,i)),b.timerscroll={bz:new BezierClass(n,b.newscrolly,i,0,0,.58,1),bh:new BezierClass(r,b.newscrollx,i,0,0,.58,1)},b.cursorfreezed||(b.timerscroll.tm=setInterval(function(){b.showCursor(b.getScrollTop(),b.getScrollLeft())},60)));b.synched("doScroll-set",function(){b.timer=0;b.scrollendtrapped&&(b.scrollrunning=!0);b.setScrollTop(b.newscrolly);b.setScrollLeft(b.newscrollx);if(!b.scrollendtrapped)b.onScrollTransitionEnd()})},50)},this.cancelScroll=function(){if(!b.scrollendtrapped)return!0;var e=b.getScrollTop(),t=b.getScrollLeft();b.scrollrunning=!1;E.transitionend||clearTimeout(E.transitionend);b.scrollendtrapped=!1;b._unbind(b.doc,E.transitionend,b.onScrollTransitionEnd);b.prepareTransition(0);b.setScrollTop(e);b.railh&&b.setScrollLeft(t);b.timerscroll&&b.timerscroll.tm&&clearInterval(b.timerscroll.tm);b.timerscroll=!1;b.cursorfreezed=!1;b.showCursor(e,t);return b},this.onScrollTransitionEnd=function(){b.scrollendtrapped&&b._unbind(b.doc,E.transitionend,b.onScrollTransitionEnd);b.scrollendtrapped=!1;b.prepareTransition(0);b.timerscroll&&b.timerscroll.tm&&clearInterval(b.timerscroll.tm);b.timerscroll=!1;var e=b.getScrollTop(),t=b.getScrollLeft();b.setScrollTop(e);b.railh&&b.setScrollLeft(t);b.noticeCursor(!1,e,t);b.cursorfreezed=!1;0>e?e=0:e>b.page.maxh&&(e=b.page.maxh);0>t?t=0:t>b.page.maxw&&(t=b.page.maxw);if(e!=b.newscrolly||t!=b.newscrollx)return b.doScrollPos(t,e,b.opt.snapbackspeed);b.onscrollend&&b.scrollrunning&&b.triggerScrollEnd();b.scrollrunning=!1}):(this.doScrollLeft=function(e,t){var n=b.scrollrunning?b.newscrolly:b.getScrollTop();b.doScrollPos(e,n,t)},this.doScrollTop=function(e,t){var n=b.scrollrunning?b.newscrollx:b.getScrollLeft();b.doScrollPos(n,e,t)},this.doScrollPos=function(e,t,n){function r(){if(b.cancelAnimationFrame)return!0;b.scrollrunning=!0;if(c=1-c)return b.timer=a(r)||1;var e=0,t=sy=b.getScrollTop();if(b.dst.ay){var t=b.bzscroll?b.dst.py+b.bzscroll.getNow()*b.dst.ay:b.newscrolly,n=t-sy;if(0>n&&t<b.newscrolly||0<n&&t>b.newscrolly)t=b.newscrolly;b.setScrollTop(t);t==b.newscrolly&&(e=1)}else e=1;var i=sx=b.getScrollLeft();if(b.dst.ax){i=b.bzscroll?b.dst.px+b.bzscroll.getNow()*b.dst.ax:b.newscrollx;n=i-sx;if(0>n&&i<b.newscrollx||0<n&&i>b.newscrollx)i=b.newscrollx;b.setScrollLeft(i);i==b.newscrollx&&(e+=1)}else e+=1;2==e?(b.timer=0,b.cursorfreezed=!1,b.bzscroll=!1,b.scrollrunning=!1,0>t?t=0:t>b.page.maxh&&(t=b.page.maxh),0>i?i=0:i>b.page.maxw&&(i=b.page.maxw),i!=b.newscrollx||t!=b.newscrolly?b.doScrollPos(i,t):b.onscrollend&&b.triggerScrollEnd()):b.timer=a(r)||1}t="undefined"==typeof t||!1===t?b.getScrollTop(!0):t;if(b.timer&&b.newscrolly==t&&b.newscrollx==e)return!0;b.timer&&f(b.timer);b.timer=0;var i=b.getScrollTop(),s=b.getScrollLeft();(0>(b.newscrolly-i)*(t-i)||0>(b.newscrollx-s)*(e-s))&&b.cancelScroll();b.newscrolly=t;b.newscrollx=e;if(!b.bouncescroll||!b.rail.visibility)0>b.newscrolly?b.newscrolly=0:b.newscrolly>b.page.maxh&&(b.newscrolly=b.page.maxh);if(!b.bouncescroll||!b.railh.visibility)0>b.newscrollx?b.newscrollx=0:b.newscrollx>b.page.maxw&&(b.newscrollx=b.page.maxw);b.dst={};b.dst.x=e-s;b.dst.y=t-i;b.dst.px=s;b.dst.py=i;var o=Math.round(Math.sqrt(Math.pow(b.dst.x,2)+Math.pow(b.dst.y,2)));b.dst.ax=b.dst.x/o;b.dst.ay=b.dst.y/o;var u=0,l=o;0==b.dst.x?(u=i,l=t,b.dst.ay=1,b.dst.py=0):0==b.dst.y&&(u=s,l=e,b.dst.ax=1,b.dst.px=0);o=b.getTransitionSpeed(o);n&&1>=n&&(o*=n);b.bzscroll=0<o?b.bzscroll?b.bzscroll.update(l,o):new BezierClass(u,l,o,0,1,0,1):!1;if(!b.timer){(i==b.page.maxh&&t>=b.page.maxh||s==b.page.maxw&&e>=b.page.maxw)&&b.checkContentSize();var c=1;b.cancelAnimationFrame=!1;b.timer=1;b.onscrollstart&&!b.scrollrunning&&b.onscrollstart.call(b,{type:"scrollstart",current:{x:s,y:i},request:{x:e,y:t},end:{x:b.newscrollx,y:b.newscrolly},speed:o});r();(i==b.page.maxh&&t>=i||s==b.page.maxw&&e>=s)&&b.checkContentSize();b.noticeCursor()}},this.cancelScroll=function(){b.timer&&f(b.timer);b.timer=0;b.bzscroll=!1;b.scrollrunning=!1;return b}):(this.doScrollLeft=function(e,t){var n=b.getScrollTop();b.doScrollPos(e,n,t)},this.doScrollTop=function(e,t){var n=b.getScrollLeft();b.doScrollPos(n,e,t)},this.doScrollPos=function(e,t,n){var r=e>b.page.maxw?b.page.maxw:e;0>r&&(r=0);var i=t>b.page.maxh?b.page.maxh:t;0>i&&(i=0);b.synched("scroll",function(){b.setScrollTop(i);b.setScrollLeft(r)})},this.cancelScroll=function(){});this.doScrollBy=function(e,t){var n=0,n=t?Math.floor((b.scroll.y-e)*b.scrollratio.y):(b.timer?b.newscrolly:b.getScrollTop(!0))-e;if(b.bouncescroll){var r=Math.round(b.view.h/2);n<-r?n=-r:n>b.page.maxh+r&&(n=b.page.maxh+r)}b.cursorfreezed=!1;py=b.getScrollTop(!0);if(0>n&&0>=py)return b.noticeCursor();if(n>b.page.maxh&&py>=b.page.maxh)return b.checkContentSize(),b.noticeCursor();b.doScrollTop(n)};this.doScrollLeftBy=function(e,t){var n=0,n=t?Math.floor((b.scroll.x-e)*b.scrollratio.x):(b.timer?b.newscrollx:b.getScrollLeft(!0))-e;if(b.bouncescroll){var r=Math.round(b.view.w/2);n<-r?n=-r:n>b.page.maxw+r&&(n=b.page.maxw+r)}b.cursorfreezed=!1;px=b.getScrollLeft(!0);if(0>n&&0>=px||n>b.page.maxw&&px>=b.page.maxw)return b.noticeCursor();b.doScrollLeft(n)};this.doScrollTo=function(e,t){t&&Math.round(e*b.scrollratio.y);b.cursorfreezed=!1;b.doScrollTop(e)};this.checkContentSize=function(){var e=b.getContentSize();(e.h!=b.page.h||e.w!=b.page.w)&&b.resize(!1,e)};b.onscroll=function(e){b.rail.drag||b.cursorfreezed||b.synched("scroll",function(){b.scroll.y=Math.round(b.getScrollTop()*(1/b.scrollratio.y));b.railh&&(b.scroll.x=Math.round(b.getScrollLeft()*(1/b.scrollratio.x)));b.noticeCursor()})};b.bind(b.docscroll,"scroll",b.onscroll);this.doZoomIn=function(t){if(!b.zoomactive){b.zoomactive=!0;b.zoomrestore={style:{}};var r="position top left zIndex backgroundColor marginTop marginBottom marginLeft marginRight".split(" "),i=b.win[0].style,s;for(s in r){var u=r[s];b.zoomrestore.style[u]="undefined"!=typeof i[u]?i[u]:""}b.zoomrestore.style.width=b.win.css("width");b.zoomrestore.style.height=b.win.css("height");b.zoomrestore.padding={w:b.win.outerWidth()-b.win.width(),h:b.win.outerHeight()-b.win.height()};E.isios4&&(b.zoomrestore.scrollTop=e(n).scrollTop(),e(n).scrollTop(0));b.win.css({position:E.isios4?"absolute":"fixed",top:0,left:0,"z-index":o+100,margin:"0px"});r=b.win.css("backgroundColor");(""==r||/transparent|rgba\(0, 0, 0, 0\)|rgba\(0,0,0,0\)/.test(r))&&b.win.css("backgroundColor","#fff");b.rail.css({"z-index":o+101});b.zoom.css({"z-index":o+102});b.zoom.css("backgroundPosition","0px -18px");b.resizeZoom();b.onzoomin&&b.onzoomin.call(b);return b.cancelEvent(t)}};this.doZoomOut=function(t){if(b.zoomactive)return b.zoomactive=!1,b.win.css("margin",""),b.win.css(b.zoomrestore.style),E.isios4&&e(n).scrollTop(b.zoomrestore.scrollTop),b.rail.css({"z-index":b.zindex}),b.zoom.css({"z-index":b.zindex}),b.zoomrestore=!1,b.zoom.css("backgroundPosition","0px 0px"),b.onResize(),b.onzoomout&&b.onzoomout.call(b),b.cancelEvent(t)};this.doZoom=function(e){return b.zoomactive?b.doZoomOut(e):b.doZoomIn(e)};this.resizeZoom=function(){if(b.zoomactive){var t=b.getScrollTop();b.win.css({width:e(n).width()-b.zoomrestore.padding.w+"px",height:e(n).height()-b.zoomrestore.padding.h+"px"});b.onResize();b.setScrollTop(Math.min(b.page.maxh,t))}};this.init();e.nicescroll.push(this)},g=function(e){var t=this;this.nc=e;this.steptime=this.lasttime=this.speedy=this.speedx=this.lasty=this.lastx=0;this.snapy=this.snapx=!1;this.demuly=this.demulx=0;this.lastscrolly=this.lastscrollx=-1;this.timer=this.chky=this.chkx=0;this.time=function(){return+(new Date)};this.reset=function(e,n){t.stop();var r=t.time();t.steptime=0;t.lasttime=r;t.speedx=0;t.speedy=0;t.lastx=e;t.lasty=n;t.lastscrollx=-1;t.lastscrolly=-1};this.update=function(e,n){var r=t.time();t.steptime=r-t.lasttime;t.lasttime=r;var r=n-t.lasty,i=e-t.lastx,s=t.nc.getScrollTop(),o=t.nc.getScrollLeft(),s=s+r,o=o+i;t.snapx=0>o||o>t.nc.page.maxw;t.snapy=0>s||s>t.nc.page.maxh;t.speedx=i;t.speedy=r;t.lastx=e;t.lasty=n};this.stop=function(){t.nc.unsynched("domomentum2d");t.timer&&clearTimeout(t.timer);t.timer=0;t.lastscrollx=-1;t.lastscrolly=-1};this.doSnapy=function(e,n){var r=!1;0>n?(n=0,r=!0):n>t.nc.page.maxh&&(n=t.nc.page.maxh,r=!0);0>e?(e=0,r=!0):e>t.nc.page.maxw&&(e=t.nc.page.maxw,r=!0);r?t.nc.doScrollPos(e,n,t.nc.opt.snapbackspeed):t.nc.triggerScrollEnd()};this.doMomentum=function(e){var n=t.time(),r=e?n+e:t.lasttime;e=t.nc.getScrollLeft();var i=t.nc.getScrollTop(),s=t.nc.page.maxh,o=t.nc.page.maxw;t.speedx=0<o?Math.min(60,t.speedx):0;t.speedy=0<s?Math.min(60,t.speedy):0;r=r&&60>=n-r;if(0>i||i>s||0>e||e>o)r=!1;e=t.speedx&&r?t.speedx:!1;if(t.speedy&&r&&t.speedy||e){var u=Math.max(16,t.steptime);50<u&&(e=u/50,t.speedx*=e,t.speedy*=e,u=50);t.demulxy=0;t.lastscrollx=t.nc.getScrollLeft();t.chkx=t.lastscrollx;t.lastscrolly=t.nc.getScrollTop();t.chky=t.lastscrolly;var a=t.lastscrollx,f=t.lastscrolly,l=function(){var e=600<t.time()-n?.04:.02;if(t.speedx&&(a=Math.floor(t.lastscrollx-t.speedx*(1-t.demulxy)),t.lastscrollx=a,0>a||a>o))e=.1;if(t.speedy&&(f=Math.floor(t.lastscrolly-t.speedy*(1-t.demulxy)),t.lastscrolly=f,0>f||f>s))e=.1;t.demulxy=Math.min(1,t.demulxy+e);t.nc.synched("domomentum2d",function(){t.speedx&&(t.nc.getScrollLeft()!=t.chkx&&t.stop(),t.chkx=a,t.nc.setScrollLeft(a));t.speedy&&(t.nc.getScrollTop()!=t.chky&&t.stop(),t.chky=f,t.nc.setScrollTop(f));t.timer||(t.nc.hideCursor(),t.doSnapy(a,f))});1>t.demulxy?t.timer=setTimeout(l,u):(t.stop(),t.nc.hideCursor(),t.doSnapy(a,f))};l()}else t.doSnapy(t.nc.getScrollLeft(),t.nc.getScrollTop())}},y=e.fn.scrollTop;e.cssHooks.pageYOffset={get:function(t,n,r){return(n=e.data(t,"__nicescroll")||!1)&&n.ishwscroll?n.getScrollTop():y.call(t)},set:function(t,n){var r=e.data(t,"__nicescroll")||!1;r&&r.ishwscroll?r.setScrollTop(parseInt(n)):y.call(t,n);return this}};e.fn.scrollTop=function(t){if("undefined"==typeof t){var n=this[0]?e.data(this[0],"__nicescroll")||!1:!1;return n&&n.ishwscroll?n.getScrollTop():y.call(this)}return this.each(function(){var n=e.data(this,"__nicescroll")||!1;n&&n.ishwscroll?n.setScrollTop(parseInt(t)):y.call(e(this),t)})};var b=e.fn.scrollLeft;e.cssHooks.pageXOffset={get:function(t,n,r){return(n=e.data(t,"__nicescroll")||!1)&&n.ishwscroll?n.getScrollLeft():b.call(t)},set:function(t,n){var r=e.data(t,"__nicescroll")||!1;r&&r.ishwscroll?r.setScrollLeft(parseInt(n)):b.call(t,n);return this}};e.fn.scrollLeft=function(t){if("undefined"==typeof t){var n=this[0]?e.data(this[0],"__nicescroll")||!1:!1;return n&&n.ishwscroll?n.getScrollLeft():b.call(this)}return this.each(function(){var n=e.data(this,"__nicescroll")||!1;n&&n.ishwscroll?n.setScrollLeft(parseInt(t)):b.call(e(this),t)})};var w=function(t){var n=this;this.length=0;this.name="nicescrollarray";this.each=function(e){for(var t=0,r=0;t<n.length;t++)e.call(n[t],r++);return n};this.push=function(e){n[n.length]=e;n.length++};this.eq=function(e){return n[e]};if(t)for(var r=0;r<t.length;r++){var i=e.data(t[r],"__nicescroll")||!1;i&&(this[this.length]=i,this.length++)}return this};(function(e,t,n){for(var r=0;r<t.length;r++)n(e,t[r])})(w.prototype,"show hide toggle onResize resize remove stop doScrollPos".split(" "),function(e,t){e[t]=function(){var e=arguments;return this.each(function(){this[t].apply(this,e)})}});e.fn.getNiceScroll=function(t){return"undefined"==typeof t?new w(this):this[t]&&e.data(this[t],"__nicescroll")||!1};e.extend(e.expr[":"],{nicescroll:function(t){return e.data(t,"__nicescroll")?!0:!1}});e.fn.niceScroll=function(t,n){"undefined"==typeof n&&"object"==typeof t&&!("jquery"in t)&&(n=t,t=!1);var r=new w;"undefined"==typeof n&&(n={});t&&(n.doc=e(t),n.win=e(this));var i=!("doc"in n);!i&&!("win"in n)&&(n.win=e(this));this.each(function(){var t=e(this).data("__nicescroll")||!1;t||(n.doc=i?e(this):n.doc,t=new m(n,e(this)),e(this).data("__nicescroll",t));r.push(t)});return 1==r.length?r[0]:r};n.NiceScroll={getjQuery:function(){return e}};e.nicescroll||(e.nicescroll=new w,e.nicescroll.options=p)});(function(e){jQuery.fn.extend({slimScroll:function(r){var i=e.extend({width:"auto",height:"250px",size:"7px",color:"#000",position:"right",distance:"1px",start:"top",opacity:.4,alwaysVisible:!1,disableFadeOut:!1,railVisible:!1,railColor:"#333",railOpacity:.2,railDraggable:!0,railClass:"slimScrollRail",barClass:"slimScrollBar",wrapperClass:"slimScrollDiv",allowPageScroll:!1,wheelStep:20,touchScrollStep:200,borderRadius:"7px",railBorderRadius:"7px"},r);this.each(function(){function s(t){if(d){t=t||n.event;var r=0;t.wheelDelta&&(r=-t.wheelDelta/120);t.detail&&(r=t.detail/3);e(t.target||t.srcTarget||t.srcElement).closest("."+i.wrapperClass).is(T.parent())&&o(r,!0);t.preventDefault&&!x&&t.preventDefault();x||(t.returnValue=!1)}}function o(e,t,n){x=!1;var r=e,s=T.outerHeight()-C.outerHeight();t&&(r=parseInt(C.css("top"))+e*parseInt(i.wheelStep)/100*C.outerHeight(),r=Math.min(Math.max(r,0),s),r=0<e?Math.ceil(r):Math.floor(r),C.css({top:r+"px"}));w=parseInt(C.css("top"))/(T.outerHeight()-C.outerHeight());r=w*(T[0].scrollHeight-T.outerHeight());n&&(r=e,e=r/T[0].scrollHeight*T.outerHeight(),e=Math.min(Math.max(e,0),s),C.css({top:e+"px"}));T.scrollTop(r);T.trigger("slimscrolling",~~r);c();p()}function u(){n.addEventListener?(this.addEventListener("DOMMouseScroll",s,!1),this.addEventListener("mousewheel",s,!1),this.addEventListener("MozMousePixelScroll",s,!1)):document.attachEvent("onmousewheel",s)}function l(){b=Math.max(T.outerHeight()/T[0].scrollHeight*T.outerHeight(),S);C.css({height:b+"px"});var e=b==T.outerHeight()?"none":"block";C.css({display:e})}function c(){l();clearTimeout(g);w==~~w?(x=i.allowPageScroll,E!=w&&T.trigger("slimscroll",0==~~w?"top":"bottom")):x=!1;E=w;b>=T.outerHeight()?x=!0:(C.stop(!0,!0).fadeIn("fast"),i.railVisible&&k.stop(!0,!0).fadeIn("fast"))}function p(){i.alwaysVisible||(g=setTimeout(function(){i.disableFadeOut&&d||v||m||(C.fadeOut("slow"),k.fadeOut("slow"))},1e3))}var d,v,m,g,y,b,w,E,S=30,x=!1,T=e(this);if(T.parent().hasClass(i.wrapperClass)){var N=T.scrollTop(),C=T.parent().find("."+i.barClass),k=T.parent().find("."+i.railClass);l();if(e.isPlainObject(r)){if("height"in r&&"auto"==r.height){T.parent().css("height","auto");T.css("height","auto");var L=T.parent().parent().height();T.parent().css("height",L);T.css("height",L)}if("scrollTo"in r)N=parseInt(i.scrollTo);else if("scrollBy"in r)N+=parseInt(i.scrollBy);else if("destroy"in r){C.remove();k.remove();T.unwrap();return}o(N,!1,!0)}}else{i.height="auto"==i.height?T.parent().height():i.height;N=e("<div></div>").addClass(i.wrapperClass).css({position:"relative",overflow:"hidden",width:i.width,height:i.height});T.css({overflow:"hidden",width:i.width,height:i.height});var k=e("<div></div>").addClass(i.railClass).css({width:i.size,height:"100%",position:"absolute",top:0,display:i.alwaysVisible&&i.railVisible?"block":"none","border-radius":i.railBorderRadius,background:i.railColor,opacity:i.railOpacity,zIndex:90}),C=e("<div></div>").addClass(i.barClass).css({background:i.color,width:i.size,position:"absolute",top:0,opacity:i.opacity,display:i.alwaysVisible?"block":"none","border-radius":i.borderRadius,BorderRadius:i.borderRadius,MozBorderRadius:i.borderRadius,WebkitBorderRadius:i.borderRadius,zIndex:99}),L="right"==i.position?{right:i.distance}:{left:i.distance};k.css(L);C.css(L);T.wrap(N);T.parent().append(C);T.parent().append(k);i.railDraggable&&C.bind("mousedown",function(n){var r=e(document);m=!0;t=parseFloat(C.css("top"));pageY=n.pageY;r.bind("mousemove.slimscroll",function(e){currTop=t+e.pageY-pageY;C.css("top",currTop);o(0,C.position().top,!1)});r.bind("mouseup.slimscroll",function(e){m=!1;p();r.unbind(".slimscroll")});return!1}).bind("selectstart.slimscroll",function(e){e.stopPropagation();e.preventDefault();return!1});k.hover(function(){c()},function(){p()});C.hover(function(){v=!0},function(){v=!1});T.hover(function(){d=!0;c();p()},function(){d=!1;p()});T.bind("touchstart",function(e,t){e.originalEvent.touches.length&&(y=e.originalEvent.touches[0].pageY)});T.bind("touchmove",function(e){x||e.originalEvent.preventDefault();e.originalEvent.touches.length&&(o((y-e.originalEvent.touches[0].pageY)/i.touchScrollStep,!0),y=e.originalEvent.touches[0].pageY)});l();"bottom"===i.start?(C.css({top:T.outerHeight()-C.outerHeight()}),o(0,!0)):"top"!==i.start&&(o(e(i.start).position().top,null,!0),i.alwaysVisible||C.hide());u()}});return this}});jQuery.fn.extend({slimscroll:jQuery.fn.slimScroll})})(jQuery);(function(e){function s(e){if(e in t.style){return e}var n=["Moz","Webkit","O","ms"];var r=e.charAt(0).toUpperCase()+e.substr(1);if(e in t.style){return e}for(var i=0;i<n.length;++i){var s=n[i]+r;if(s in t.style){return s}}}function o(){t.style[i.transform]="";t.style[i.transform]="rotateY(90deg)";return t.style[i.transform]!==""}function c(e){if(typeof e==="string"){this.parse(e)}return this}function h(e,t,n){if(t===true){e.queue(n)}else{if(t){e.queue(t,n)}else{n()}}}function p(t){var n=[];e.each(t,function(t){t=e.camelCase(t);t=e.transit.propertyMap[t]||e.cssProps[t]||t;t=m(t);if(e.inArray(t,n)===-1){n.push(t)}});return n}function d(t,n,r,i){var s=p(t);if(e.cssEase[r]){r=e.cssEase[r]}var o=""+y(n)+" "+r;if(parseInt(i,10)>0){o+=" "+y(i)}var u=[];e.each(s,function(e,t){u.push(t+" "+o)});return u.join(", ")}function v(t,n){if(!n){e.cssNumber[t]=true}e.transit.propertyMap[t]=i.transform;e.cssHooks[t]={get:function(n){var r=e(n).css("transit:transform");return r.get(t)},set:function(n,r){var i=e(n).css("transit:transform");i.setFromString(t,r);e(n).css({"transit:transform":i})}}}function m(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}function g(e,t){if(typeof e==="string"&&!e.match(/^[\-0-9\.]+$/)){return e}else{return""+e+t}}function y(t){var n=t;if(e.fx.speeds[n]){n=e.fx.speeds[n]}return g(n,"ms")}e.transit={version:"0.9.9",propertyMap:{marginLeft:"margin",marginRight:"margin",marginBottom:"margin",marginTop:"margin",paddingLeft:"padding",paddingRight:"padding",paddingBottom:"padding",paddingTop:"padding"},enabled:true,useTransitionEnd:false};var t=document.createElement("div");var i={};var u=navigator.userAgent.toLowerCase().indexOf("chrome")>-1;i.transition=s("transition");i.transitionDelay=s("transitionDelay");i.transform=s("transform");i.transformOrigin=s("transformOrigin");i.transform3d=o();var a={transition:"transitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",WebkitTransition:"webkitTransitionEnd",msTransition:"MSTransitionEnd"};var f=i.transitionEnd=a[i.transition]||null;for(var l in i){if(i.hasOwnProperty(l)&&typeof e.support[l]==="undefined"){e.support[l]=i[l]}}t=null;e.cssEase={_default:"ease","in":"ease-in",out:"ease-out","in-out":"ease-in-out",snap:"cubic-bezier(0,1,.5,1)",easeOutCubic:"cubic-bezier(.215,.61,.355,1)",easeInOutCubic:"cubic-bezier(.645,.045,.355,1)",easeInCirc:"cubic-bezier(.6,.04,.98,.335)",easeOutCirc:"cubic-bezier(.075,.82,.165,1)",easeInOutCirc:"cubic-bezier(.785,.135,.15,.86)",easeInExpo:"cubic-bezier(.95,.05,.795,.035)",easeOutExpo:"cubic-bezier(.19,1,.22,1)",easeInOutExpo:"cubic-bezier(1,0,0,1)",easeInQuad:"cubic-bezier(.55,.085,.68,.53)",easeOutQuad:"cubic-bezier(.25,.46,.45,.94)",easeInOutQuad:"cubic-bezier(.455,.03,.515,.955)",easeInQuart:"cubic-bezier(.895,.03,.685,.22)",easeOutQuart:"cubic-bezier(.165,.84,.44,1)",easeInOutQuart:"cubic-bezier(.77,0,.175,1)",easeInQuint:"cubic-bezier(.755,.05,.855,.06)",easeOutQuint:"cubic-bezier(.23,1,.32,1)",easeInOutQuint:"cubic-bezier(.86,0,.07,1)",easeInSine:"cubic-bezier(.47,0,.745,.715)",easeOutSine:"cubic-bezier(.39,.575,.565,1)",easeInOutSine:"cubic-bezier(.445,.05,.55,.95)",easeInBack:"cubic-bezier(.6,-.28,.735,.045)",easeOutBack:"cubic-bezier(.175, .885,.32,1.275)",easeInOutBack:"cubic-bezier(.68,-.55,.265,1.55)"};e.cssHooks["transit:transform"]={get:function(t){return e(t).data("transform")||new c},set:function(t,n){var r=n;if(!(r instanceof c)){r=new c(r)}if(i.transform==="WebkitTransform"&&!u){t.style[i.transform]=r.toString(true)}else{t.style[i.transform]=r.toString()}e(t).data("transform",r)}};e.cssHooks.transform={set:e.cssHooks["transit:transform"].set};if(e.fn.jquery<"1.8"){e.cssHooks.transformOrigin={get:function(e){return e.style[i.transformOrigin]},set:function(e,t){e.style[i.transformOrigin]=t}};e.cssHooks.transition={get:function(e){return e.style[i.transition]},set:function(e,t){e.style[i.transition]=t}}}v("scale");v("translate");v("rotate");v("rotateX");v("rotateY");v("rotate3d");v("perspective");v("skewX");v("skewY");v("x",true);v("y",true);c.prototype={setFromString:function(e,t){var n=typeof t==="string"?t.split(","):t.constructor===Array?t:[t];n.unshift(e);c.prototype.set.apply(this,n)},set:function(e){var t=Array.prototype.slice.apply(arguments,[1]);if(this.setter[e]){this.setter[e].apply(this,t)}else{this[e]=t.join(",")}},get:function(e){if(this.getter[e]){return this.getter[e].apply(this)}else{return this[e]||0}},setter:{rotate:function(e){this.rotate=g(e,"deg")},rotateX:function(e){this.rotateX=g(e,"deg")},rotateY:function(e){this.rotateY=g(e,"deg")},scale:function(e,t){if(t===r){t=e}this.scale=e+","+t},skewX:function(e){this.skewX=g(e,"deg")},skewY:function(e){this.skewY=g(e,"deg")},perspective:function(e){this.perspective=g(e,"px")},x:function(e){this.set("translate",e,null)},y:function(e){this.set("translate",null,e)},translate:function(e,t){if(this._translateX===r){this._translateX=0}if(this._translateY===r){this._translateY=0}if(e!==null&&e!==r){this._translateX=g(e,"px")}if(t!==null&&t!==r){this._translateY=g(t,"px")}this.translate=this._translateX+","+this._translateY}},getter:{x:function(){return this._translateX||0},y:function(){return this._translateY||0},scale:function(){var e=(this.scale||"1,1").split(",");if(e[0]){e[0]=parseFloat(e[0])}if(e[1]){e[1]=parseFloat(e[1])}return e[0]===e[1]?e[0]:e},rotate3d:function(){var e=(this.rotate3d||"0,0,0,0deg").split(",");for(var t=0;t<=3;++t){if(e[t]){e[t]=parseFloat(e[t])}}if(e[3]){e[3]=g(e[3],"deg")}return e}},parse:function(e){var t=this;e.replace(/([a-zA-Z0-9]+)\((.*?)\)/g,function(e,n,r){t.setFromString(n,r)})},toString:function(e){var t=[];for(var n in this){if(this.hasOwnProperty(n)){if(!i.transform3d&&(n==="rotateX"||n==="rotateY"||n==="perspective"||n==="transformOrigin")){continue}if(n[0]!=="_"){if(e&&n==="scale"){t.push(n+"3d("+this[n]+",1)")}else{if(e&&n==="translate"){t.push(n+"3d("+this[n]+",0)")}else{t.push(n+"("+this[n]+")")}}}}}return t.join(" ")}};e.fn.transition=e.fn.transit=function(t,s,o,u){var a=this;var l=0;var c=true;if(typeof s==="function"){u=s;s=r}if(typeof o==="function"){u=o;o=r}if(typeof t.easing!=="undefined"){o=t.easing;delete t.easing}if(typeof t.duration!=="undefined"){s=t.duration;delete t.duration}if(typeof t.complete!=="undefined"){u=t.complete;delete t.complete}if(typeof t.queue!=="undefined"){c=t.queue;delete t.queue}if(typeof t.delay!=="undefined"){l=t.delay;delete t.delay}if(typeof s==="undefined"){s=e.fx.speeds._default}if(typeof o==="undefined"){o=e.cssEase._default}s=y(s);var p=d(t,s,o,l);var v=e.transit.enabled&&i.transition;var m=v?parseInt(s,10)+parseInt(l,10):0;if(m===0){var g=function(e){a.css(t);if(u){u.apply(a)}if(e){e()}};h(a,c,g);return a}var b={};var w=function(r){var s=false;var o=function(){if(s){a.unbind(f,o)}if(m>0){a.each(function(){this.style[i.transition]=b[this]||null})}if(typeof u==="function"){u.apply(a)}if(typeof r==="function"){r()}};if(m>0&&f&&e.transit.useTransitionEnd){s=true;a.bind(f,o)}else{n.setTimeout(o,m)}a.each(function(){if(m>0){this.style[i.transition]=p}e(this).css(t)})};var E=function(e){this.offsetWidth;w(e)};h(a,c,E);return this};e.transit.getTransitionValue=d})(jQuery);(function(e){function s(e,t){if(e.originalEvent.touches.length>1){return}e.preventDefault();var r=e.originalEvent.changedTouches[0],i=document.createEvent("MouseEvents");i.initMouseEvent(t,true,true,n,1,r.screenX,r.screenY,r.clientX,r.clientY,false,false,false,false,0,null);e.target.dispatchEvent(i)}e.support.touch="ontouchend"in document;if(!e.support.touch){return}var t=e.ui.mouse.prototype,r=t._mouseInit,i;t._touchStart=function(e){var t=this;if(i||!t._mouseCapture(e.originalEvent.changedTouches[0])){return}i=true;t._touchMoved=false;s(e,"mouseover");s(e,"mousemove");s(e,"mousedown")};t._touchMove=function(e){if(!i){return}this._touchMoved=true;s(e,"mousemove")};t._touchEnd=function(e){if(!i){return}s(e,"mouseup");s(e,"mouseout");if(!this._touchMoved){s(e,"click")}i=false};t._mouseInit=function(){var t=this;t.element.bind("touchstart",e.proxy(t,"_touchStart")).bind("touchmove",e.proxy(t,"_touchMove")).bind("touchend",e.proxy(t,"_touchEnd"));r.call(t)}})(jQuery)})(jQuery,window);var Hogan={};(function(e,t){function n(e){return String(e===null||e===undefined?"":e)}function r(e){return e=n(e),f.test(e)?e.replace(i,"&").replace(s,"&lt;").replace(o,"&gt;").replace(u,"&#39;").replace(a,"&quot;"):e}e.Template=function(e,n,r,i){this.r=e||this.r,this.c=r,this.options=i,this.text=n||"",this.buf=t?[]:""},e.Template.prototype={r:function(e,t,n){return""},v:r,t:n,render:function(e,t,n){return this.ri([e],t||{},n)},ri:function(e,t,n){return this.r(e,t,n)},rp:function(e,t,n,r){var i=n[e];return i?(this.c&&typeof i=="string"&&(i=this.c.compile(i,this.options)),i.ri(t,n,r)):""},rs:function(e,t,n){var r=e[e.length-1];if(!l(r)){n(e,t,this);return}for(var i=0;i<r.length;i++)e.push(r[i]),n(e,t,this),e.pop()},s:function(e,t,n,r,i,s,o){var u;return l(e)&&e.length===0?!1:(typeof e=="function"&&(e=this.ls(e,t,n,r,i,s,o)),u=e===""||!!e,!r&&u&&t&&t.push(typeof e=="object"?e:t[t.length-1]),u)},d:function(e,t,n,r){var i=e.split("."),s=this.f(i[0],t,n,r),o=null;if(e==="."&&l(t[t.length-2]))return t[t.length-1];for(var u=1;u<i.length;u++)s&&typeof s=="object"&&i[u]in s?(o=s,s=s[i[u]]):s="";return r&&!s?!1:(!r&&typeof s=="function"&&(t.push(o),s=this.lv(s,t,n),t.pop()),s)},f:function(e,t,n,r){var i=!1,s=null,o=!1;for(var u=t.length-1;u>=0;u--){s=t[u];if(s&&typeof s=="object"&&e in s){i=s[e],o=!0;break}}return o?(!r&&typeof i=="function"&&(i=this.lv(i,t,n)),i):r?!1:""},ho:function(e,t,n,r,i){var s=this.c,o=this.options;o.delimiters=i;var r=e.call(t,r);return r=r==null?String(r):r.toString(),this.b(s.compile(r,o).render(t,n)),!1},b:t?function(e){this.buf.push(e)}:function(e){this.buf+=e},fl:t?function(){var e=this.buf.join("");return this.buf=[],e}:function(){var e=this.buf;return this.buf="",e},ls:function(e,t,n,r,i,s,o){var u=t[t.length-1],a=null;if(!r&&this.c&&e.length>0)return this.ho(e,u,n,this.text.substring(i,s),o);a=e.call(u);if(typeof a=="function"){if(r)return!0;if(this.c)return this.ho(a,u,n,this.text.substring(i,s),o)}return a},lv:function(e,t,r){var i=t[t.length-1],s=e.call(i);if(typeof s=="function"){s=n(s.call(i));if(this.c&&~s.indexOf("{{"))return this.c.compile(s,this.options).render(i,r)}return n(s)}};var i=/&/g,s=/</g,o=/>/g,u=/\'/g,a=/\"/g,f=/[&<>\"\']/,l=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"}})(typeof exports!="undefined"?exports:Hogan),function(e){function t(e){e.n.substr(e.n.length-1)==="}"&&(e.n=e.n.substring(0,e.n.length-1))}function n(e){return e.trim?e.trim():e.replace(/^\s*|\s*$/g,"")}function r(e,t,n){if(t.charAt(n)!=e.charAt(0))return!1;for(var r=1,i=e.length;r<i;r++)if(t.charAt(n+r)!=e.charAt(r))return!1;return!0}function i(e,t,n,r){var u=[],a=null,f=null;while(e.length>0){f=e.shift();if(f.tag=="#"||f.tag=="^"||s(f,r))n.push(f),f.nodes=i(e,f.tag,n,r),u.push(f);else{if(f.tag=="/"){if(n.length===0)throw new Error("Closing tag without opener: /"+f.n);a=n.pop();if(f.n!=a.n&&!o(f.n,a.n,r))throw new Error("Nesting error: "+a.n+" vs. "+f.n);return a.end=f.i,u}u.push(f)}}if(n.length>0)throw new Error("missing closing tag: "+n.pop().n);return u}function s(e,t){for(var n=0,r=t.length;n<r;n++)if(t[n].o==e.n)return e.tag="#",!0}function o(e,t,n){for(var r=0,i=n.length;r<i;r++)if(n[r].c==e&&n[r].o==t)return!0}function u(e){return e.replace(w,"\\\\").replace(g,'\\"').replace(y,"\\n").replace(b,"\\r")}function a(e){return~e.indexOf(".")?"d":"f"}function f(e){var t="";for(var n=0,r=e.length;n<r;n++){var i=e[n].tag;i=="#"?t+=l(e[n].nodes,e[n].n,a(e[n].n),e[n].i,e[n].end,e[n].otag+" "+e[n].ctag):i=="^"?t+=c(e[n].nodes,e[n].n,a(e[n].n)):i=="<"||i==">"?t+=h(e[n]):i=="{"||i=="&"?t+=p(e[n].n,a(e[n].n)):i=="\n"?t+=v('"\\n"'+(e.length-1==n?"":" + i")):i=="_v"?t+=d(e[n].n,a(e[n].n)):i===undefined&&(t+=v('"'+u(e[n])+'"'))}return t}function l(e,t,n,r,i,s){return"if(_.s(_."+n+'("'+u(t)+'",c,p,1),'+"c,p,0,"+r+","+i+',"'+s+'")){'+"_.rs(c,p,"+"function(c,p,_){"+f(e)+"});c.pop();}"}function c(e,t,n){return"if(!_.s(_."+n+'("'+u(t)+'",c,p,1),c,p,1,0,0,"")){'+f(e)+"};"}function h(e){return'_.b(_.rp("'+u(e.n)+'",c,p,"'+(e.indent||"")+'"));'}function p(e,t){return"_.b(_.t(_."+t+'("'+u(e)+'",c,p,0)));'}function d(e,t){return"_.b(_.v(_."+t+'("'+u(e)+'",c,p,0)));'}function v(e){return"_.b("+e+");"}var m=/\S/,g=/\"/g,y=/\n/g,b=/\r/g,w=/\\/g,E={"#":1,"^":2,"/":3,"!":4,">":5,"<":6,"=":7,_v:8,"{":9,"&":10};e.scan=function(e,i){function s(){g.length>0&&(y.push(new String(g)),g="")}function o(){var e=!0;for(var t=S;t<y.length;t++){e=y[t].tag&&E[y[t].tag]<E._v||!y[t].tag&&y[t].match(m)===null;if(!e)return!1}return e}function u(e,t){s();if(e&&o())for(var n=S,r;n<y.length;n++)y[n].tag||((r=y[n+1])&&r.tag==">"&&(r.indent=y[n].toString()),y.splice(n,1));else t||y.push({tag:"\n"});b=!1,S=y.length}function a(e,t){var r="="+T,i=e.indexOf(r,t),s=n(e.substring(e.indexOf("=",t)+1,i)).split(" ");return x=s[0],T=s[1],i+r.length-1}var f=e.length,l=0,c=1,h=2,p=l,d=null,v=null,g="",y=[],b=!1,w=0,S=0,x="{{",T="}}";i&&(i=i.split(" "),x=i[0],T=i[1]);for(w=0;w<f;w++)p==l?r(x,e,w)?(--w,s(),p=c):e.charAt(w)=="\n"?u(b):g+=e.charAt(w):p==c?(w+=x.length-1,v=E[e.charAt(w+1)],d=v?e.charAt(w+1):"_v",d=="="?(w=a(e,w),p=l):(v&&w++,p=h),b=w):r(T,e,w)?(y.push({tag:d,n:n(g),otag:x,ctag:T,i:d=="/"?b-T.length:w+x.length}),g="",w+=T.length-1,p=l,d=="{"&&(T=="}}"?w++:t(y[y.length-1]))):g+=e.charAt(w);return u(b,!0),y},e.generate=function(t,n,r){var i='var _=this;_.b(i=i||"");'+f(t)+"return _.fl();";return r.asString?"function(c,p,i){"+i+";}":new e.Template(new Function("c","p","i",i),n,e,r)},e.parse=function(e,t,n){return n=n||{},i(e,"",[],n.sectionTags||[])},e.cache={},e.compile=function(e,t){t=t||{};var n=e+"||"+!!t.asString,r=this.cache[n];return r?r:(r=this.generate(this.parse(this.scan(e,t.delimiters),e,t),e,t),this.cache[n]=r)}}(typeof exports!="undefined"?exports:Hogan)